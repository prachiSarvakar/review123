"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[358],{44961:function(t,e,a){a.d(e,{_n:function(){return n},fY:function(){return r}});let i=[{label:"Starter",id:1,labelTranslationKey:"strategies.Starter.title",children:[{key:"Long Call",translationKey:"strategies.Starter.Long Call",strategyId:1,icon:"icon-bull"},{key:"Short Call",translationKey:"strategies.Starter.Short Call",strategyId:2,icon:"icon-bear"},{key:"Long Put",translationKey:"strategies.Starter.Long Put",strategyId:3,icon:"icon-bear"},{key:"Short Put",translationKey:"strategies.Starter.Short Put",strategyId:4,icon:"icon-bull"}]},{label:"Proficient",id:2,labelTranslationKey:"strategies.Proficient.title",children:[{key:"Covered Call",translationKey:"strategies.Proficient.Covered Call",strategyId:5,icon:"icon-natural"},{key:"Cash Secured Put",translationKey:"Cash Secured Put",strategyId:6,icon:"icon-bull"}]},{label:"Debit Spreads",id:3,labelTranslationKey:"strategies.DebitSpreads.title",children:[{key:"Bull Call Spread",translationKey:"strategies.Spreads.Bull Call Spread",strategyId:7,icon:"icon-bull"},{key:"Bear Put Spread",translationKey:"strategies.Spreads.Bear Put Spread",strategyId:8,icon:"icon-bear"}]},{label:"Credit Spreads",id:4,labelTranslationKey:"strategies.CreditSpreads.title",children:[{key:"Bear Call Spread",translationKey:"strategies.Spreads.Bear Call Spread",strategyId:9,icon:"icon-bear"},{key:"Bull Put Spread",translationKey:"strategies.Spreads.Bull Put Spread",strategyId:10,icon:"icon-bear"},{key:"Call Vertical Spread",translationKey:"strategies.Spreads.Call Vertical Spread",strategyId:11,icon:"icon-bull"},{key:"Put Vertical Spread",translationKey:"strategies.Spreads.Put Vertical Spread",strategyId:12,icon:"icon-bear"}]},{label:"Condors",id:5,labelTranslationKey:"strategies.Condors.title",children:[{key:"Long Call Condor",translationKey:"strategies.Condors.Long Call Condor",strategyId:13,icon:"icon-natural"},{key:"Long Put Condor",translationKey:"strategies.Condors.Long Put Condor",strategyId:14,icon:"icon-natural"},{key:"Iron Condor",translationKey:"strategies.Condors.Iron Condor",strategyId:15,icon:"icon-natural"},{key:"Short Call Condor",translationKey:"strategies.Condors.Short Call Condor",strategyId:16,icon:"icon-directional"},{key:"Short Put Condor",translationKey:"strategies.Condors.Short Put Condor",strategyId:17,icon:"icon-directional"},{key:"Reverse Iron Condor",translationKey:"strategies.Condors.Reverse Iron Condor",strategyId:18,icon:"icon-directional"}]},{label:"Straddles",id:6,labelTranslationKey:"strategies.Straddles.title",children:[{key:"Long Straddle",translationKey:"strategies.Straddles.Long Straddle",strategyId:19,icon:"icon-directional"},{key:"Short Straddle",translationKey:"strategies.Straddles.Short Straddle",strategyId:20,icon:"icon-natural"},{key:"Covered Short Straddle",translationKey:"strategies.Straddles.Covered Short Straddle",strategyId:21,icon:"icon-bull"}]},{label:"Strangles",id:7,labelTranslationKey:"strategies.Strangles.title",children:[{key:"Long Straddle",translationKey:"strategies.Strangles.Long Strangle",strategyId:22,icon:"icon-directional"},{key:"Short Straddle",translationKey:"strategies.Strangles.Short Strangle",strategyId:23,icon:"icon-natural"},{key:"Covered Short Straddle",translationKey:"strategies.Strangles.Covered Short Strangle",strategyId:24,icon:"icon-bull"}]},{label:"Butterfly",id:8,labelTranslationKey:"strategies.Butterfly.title",children:[{key:"Long Call Butterfly",translationKey:"strategies.Butterfly.Long Call Butterfly",strategyId:25,icon:"icon-natural"},{key:"Long Put Butterfly",translationKey:"strategies.Butterfly.Long Put Butterfly",strategyId:26,icon:"icon-natural"},{key:"Iron Butterfly",translationKey:"strategies.Butterfly.Iron Butterfly",strategyId:27,icon:"icon-natural"},{key:"Short Call Butterfly",translationKey:"strategies.Butterfly.Short Call Butterfly",strategyId:28,icon:"icon-directional"},{key:"Short Put Butterfly",translationKey:"strategies.Butterfly.Short Put Butterfly",strategyId:29,icon:"icon-directional"},{key:"Reverse Iron Butterfly",translationKey:"strategies.Butterfly.Reverse Iron Butterfly",strategyId:30,icon:"icon-directional"}]},{label:"Ladder",id:9,labelTranslationKey:"strategies.Ladder.title",children:[{key:"Bull Call Ladder",translationKey:"strategies.Ladder.Bull Call Ladder",strategyId:31,icon:"icon-natural",icon2:"icon-bull"},{key:"Bull Put Ladder",translationKey:"strategies.Ladder.Bull Put Ladder",strategyId:32,icon:"icon-directional"},{key:"Bear Call Ladder",translationKey:"strategies.Ladder.Bear Call Ladder",strategyId:33,icon:"icon-directional"},{key:"Bear Put Ladder",translationKey:"strategies.Ladder.Bear Put Ladder",strategyId:34,icon:"icon-natural"}]},{label:"Synthetic",id:10,labelTranslationKey:"strategies.Synthetic.title",children:[{key:"Synthetic.Synthetic Call",translationKey:"strategies.Synthetic.Synthetic Call",strategyId:35,icon:"icon-bull"},{key:"Synthetic.Synthetic Put",translationKey:"strategies.Synthetic.Synthetic Put",strategyId:36,icon:"icon-bear"},{key:"Synthetic Long Stock",translationKey:"strategies.Synthetic.Synthetic Long Stock",strategyId:37,icon:"icon-bull"},{key:"Synthetic Short Stock",translationKey:"strategies.Synthetic.Synthetic Short Stock",strategyId:38,icon:"icon-bear"},{key:"Synthetic Long Straddle Calls",translationKey:"Synthetic Long Straddle Calls",strategyId:39,icon:"icon-directional"},{key:"Long Straddle Puts",translationKey:"strategies.Synthetic.Synthetic Long Straddle Puts",strategyId:40,icon:"icon-directional"},{key:"Short Straddle Calls",translationKey:"strategies.Synthetic.Synthetic Short Straddle Calls",strategyId:41,icon:"icon-natural"},{key:"Short Straddle Puts",translationKey:"strategies.Synthetic.Synthetic Short Straddle Puts",strategyId:42,icon:"icon-natural"}]},{label:"More",id:11,labelTranslationKey:"strategies.More.title",children:[{key:"Strip",translationKey:"strategies.More.Strip",strategyId:43,icon:"icon-bear",icon2:"icon-directional"},{key:"Strap",translationKey:"strategies.More.Strap",strategyId:44,icon:"icon-bull",icon2:"icon-directional"},{key:"Long Guts",translationKey:"strategies.More.Long Guts",strategyId:45,icon:"icon-directional"},{key:"Short Guts",translationKey:"strategies.More.Short Guts",strategyId:46,icon:"icon-natural"},{key:"Collar",translationKey:"strategies.More.Collar",strategyId:47,icon:"icon-bull"},{key:"Long Combo",translationKey:"strategies.More.Long Combo",strategyId:48,icon:"icon-natural"},{key:"Short Combo",translationKey:"strategies.More.Short Combo",strategyId:49,icon:"icon-bear"},{key:"Long Box",translationKey:"strategies.More.Long Box",strategyId:50,icon:"icon-bear",icon2:"icon-directional"},{key:"Call Vertical Spread",translationKey:"strategies.More.Call Vertical Backspread",strategyId:51,icon:"icon-bull",icon2:"icon-directional"},{key:"Put Vertical Spread",translationKey:"strategies.More.Put Vertical Backspread",strategyId:52,icon:"icon-bear"},{key:"Protective Put",translationKey:"strategies.Proficient.Protective Put",strategyId:53,icon:"icon-bull"}]}],n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!t)return null;let e=null;return[...i].every(a=>{let i=a.children.find(e=>e.strategyId==t);return!i||(e=a.id,!1)}),e},r=t=>{for(let e of i){let a=e.children.find(e=>e.strategyId===t);if(a)return a.key}return null};e.ZP=i},57321:function(t,e,a){a.d(e,{C:function(){return r},T:function(){return n}});var i=a(66628);let n=()=>(0,i.I0)(),r=i.v9},32574:function(t,e,a){a.d(e,{$l:function(){return r},gQ:function(){return o},iS:function(){return s}});var i=a(83616),n=a(66469);let r=(0,n.createAsyncThunk)("users/fetchBalanceDetails",async t=>{let e=await i.E.get("/v1/accounts/".concat(t,"/balances"));return{data:e.data.balances,status:e.status,selectedAccountId:t}}),l=(0,n.createSlice)({name:"balancesData",initialState:{balances:[],status:200,selectedAccountId:""},reducers:{},extraReducers:t=>{t.addCase(r.fulfilled,(t,e)=>{t.balances=e.payload.data,t.status=e.payload.status,t.selectedAccountId=e.payload.selectedAccountId}),t.addCase(r.rejected,(t,e)=>{var a,i;t.balances=(null===(a=e.payload)||void 0===a?void 0:a.data)||[],t.status=(null===(i=e.payload)||void 0===i?void 0:i.status)||401,console.log("Server error",e)})}}),s=t=>t.balancesData,o=t=>t.balancesData.status;e.ZP=l.reducer},73429:function(t,e,a){a.d(e,{QN:function(){return o},Zl:function(){return d},wH:function(){return l},z6:function(){return r}});var i=a(83616),n=a(66469);let r=(0,n.createAsyncThunk)("users/fetchOrderList",async t=>{let e=await i.E.get("/v1/accounts/".concat(t,"/orders?includeTags=true"));return{data:e.data.orders,status:e.status}}),l=(0,n.createAsyncThunk)("users/deleteOrder",async t=>{try{let e=await i.E.delete("/v1/accounts/".concat(t.accountId,"/orders/").concat(t.orderId));return{data:e.data,status:e.status}}catch(t){throw t.response.data}}),s=(0,n.createSlice)({name:"orderList",initialState:{entities:[],status:200,toast:{type:"",message:""}},reducers:{},extraReducers:t=>{t.addCase(r.fulfilled,(t,e)=>{t.entities=e.payload.data,t.status=e.payload.status}),t.addCase(r.rejected,(t,e)=>{var a,i;t.entities=(null===(a=e.payload)||void 0===a?void 0:a.data)||[],t.status=(null===(i=e.payload)||void 0===i?void 0:i.status)||401,console.log("Server error",e)}),t.addCase(l.fulfilled,(t,e)=>{let a=e.payload.data.order.id;if(1===t.entities.length)t.entities=[];else for(let e in t.entities)if(t.entities[e].id===a){delete t.entities[e];break}t.status=e.payload.status})}}),o=t=>t.orderList&&t.orderList.entities,d=t=>t.orderList&&t.orderList.status;e.ZP=s.reducer},24831:function(t,e,a){a.d(e,{j:function(){return r},jm:function(){return o},mm:function(){return s}});var i=a(83616),n=a(66469);let r=(0,n.createAsyncThunk)("users/fetchPositionList",async t=>{let e=await i.E.get("/v1/accounts/".concat(t,"/positions"));return{data:e.data.positions,status:e.status}}),l=(0,n.createSlice)({name:"positionList",initialState:{entities:[],status:200},reducers:{},extraReducers:t=>{t.addCase(r.fulfilled,(t,e)=>{t.entities=e.payload.data,t.status=e.payload.status}),t.addCase(r.rejected,(t,e)=>{var a,i;t.entities=(null===(a=e.payload)||void 0===a?void 0:a.data)||[],t.status=(null===(i=e.payload)||void 0===i?void 0:i.status)||401,console.log("Server error",e)})}}),s=t=>t.positionList&&t.positionList.entities,o=t=>t.positionList&&t.positionList.status;e.ZP=l.reducer},83442:function(t,e,a){a.d(e,{FT:function(){return s},JL:function(){return l},Nt:function(){return d},uo:function(){return r}});var i=a(66469),n=a(24214);let r=(0,i.createAsyncThunk)("users/fetchProfileDetails",async()=>{let t=localStorage.getItem("accessToken"),e=await n.Z.get("https://api.tradier.com/v1/user/profile",{headers:{Authorization:"Bearer ".concat(t)}});return{data:e.data,status:e.status}}),l=(0,i.createAsyncThunk)("users/fetchProfileNickName",async()=>{let t=localStorage.getItem("accessToken"),e=await n.Z.get("https://p-be-dash.tradier.com/api/settings",{headers:{Authorization:"Bearer ".concat(t)}});return{data:e.data,status:e.status}}),s=(0,i.createAsyncThunk)("users/fetchPaperTradingProfileDetails",async()=>{try{let t=localStorage.getItem("accessToken"),e=await n.Z.get("https://p-be-dash.tradier.com/api/virtual/accounts",{headers:{Authorization:"Bearer ".concat(t)}});return{data:e.data,status:e.status}}catch(t){return t}}),o=(0,i.createSlice)({name:"profileData",initialState:{profile:[],paperTradingProfile:[],status:200,tradingProfileSetting:null},reducers:{},extraReducers:t=>{t.addCase(r.fulfilled,(t,e)=>{t.profile=e.payload.data.profile,t.status=e.payload.status}),t.addCase(r.rejected,(t,e)=>{var a,i,n;t.profile=null===(a=e.payload)||void 0===a?void 0:null===(i=a.data)||void 0===i?void 0:i.profile,t.status=null===(n=e.payload)||void 0===n?void 0:n.status}),t.addCase(s.fulfilled,(t,e)=>{var a;t.paperTradingProfile=null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.data,t.status=e.payload.status}),t.addCase(s.rejected,(t,e)=>{var a,i;t.paperTradingProfile=null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.data,t.status=null===(i=e.payload)||void 0===i?void 0:i.status}),t.addCase(l.fulfilled,(t,e)=>{var a;t.tradingProfileSetting=null==e?void 0:null===(a=e.payload)||void 0===a?void 0:a.data}),t.addCase(l.rejected,(t,e)=>{t.tradingProfileSetting=null})}}),d=t=>t.profileData;e.ZP=o.reducer},89133:function(t,e,a){a.d(e,{UK:function(){return s},fr:function(){return r}});var i=a(83616),n=a(66469);let r=(0,n.createAsyncThunk)("users/fetchQuotesData",async t=>{let e=await i.E.get("v1/markets/quotes?symbols=".concat(t,"&greeks=true"));return e.data.quotes.quote}),l=(0,n.createSlice)({name:"quotesData",initialState:{quotes:[]},reducers:{},extraReducers:t=>{t.addCase(r.fulfilled,(t,e)=>{if(e.payload){if(Array.isArray(e.payload)){let a=new Set(e.payload.map(t=>t.symbol)),i=t.quotes.filter(t=>!a.has(t.symbol)),n=i.concat(e.payload);t.quotes=n}else t.quotes.push(e.payload)}}),t.addCase(r.rejected,(t,e)=>{console.log("Server error",e)})}}),s=t=>t.quotesData&&t.quotesData.quotes;e.ZP=l.reducer},39622:function(t,e,a){a.d(e,{BZ:function(){return s},FW:function(){return o},Hp:function(){return u},Ou:function(){return l}});var i=a(83616),n=a(66469);let r=t=>{let e=[];if(t){if((null==t?void 0:t.length)>0)return t;e.push(t)}return e},l=(0,n.createAsyncThunk)("users/fetchWatchlistData",async()=>{var t,e,a;let n=await i.E.get("v1/watchlists/default"),l=r(null===(t=n.data)||void 0===t?void 0:null===(e=t.watchlist)||void 0===e?void 0:null===(a=e.items)||void 0===a?void 0:a.item);return{data:l,status:n.status}}),s=(0,n.createAsyncThunk)("users/removeWatchlistData",async t=>{var e,a,n;let l=await i.E.delete("v1/watchlists/default/symbols/".concat(t)),s=r(null===(e=l.data)||void 0===e?void 0:null===(a=e.watchlist)||void 0===a?void 0:null===(n=a.items)||void 0===n?void 0:n.item);return{data:s,status:l.status}}),o=(0,n.createAsyncThunk)("users/addWatchlistData",async t=>{var e,a;let n=await i.E.post("v1/watchlists/default/symbols","symbols=".concat(t));return null===(e=n.data.watchlist)||void 0===e?void 0:null===(a=e.items)||void 0===a?void 0:a.item}),d=(0,n.createSlice)({name:"watchlistData",initialState:{value:0,entities:[],status:200},reducers:{},extraReducers:t=>{t.addCase(l.fulfilled,(t,e)=>{t.entities=e.payload.data,t.status=e.payload.status}),t.addCase(l.rejected,(t,e)=>{var a,i;t.entities=(null===(a=e.payload)||void 0===a?void 0:a.data)||[],t.status=(null===(i=e.payload)||void 0===i?void 0:i.status)||401}),t.addCase(s.fulfilled,(t,e)=>{t.entities=e.payload.data,t.status=e.payload.status}),t.addCase(s.rejected,(t,e)=>{var a,i;t.entities=(null===(a=e.payload)||void 0===a?void 0:a.data)||[],t.status=(null===(i=e.payload)||void 0===i?void 0:i.status)||401}),t.addCase(o.fulfilled,(t,e)=>{t.entities=e.payload})}}),u=t=>t.watchlistData.entities;e.ZP=d.reducer},83616:function(t,e,a){a.d(e,{E:function(){return r}});var i=a(24214);let n=()=>localStorage.getItem("accountType"),r=i.Z.create((()=>{let t=n();return{baseURL:"prod"===t?"https://api.tradier.com":"paperTrading"===t?"https://sandbox.tradier.com":"https://api.tradier.com"}})());r.interceptors.request.use(async t=>{let e=localStorage.getItem("accessToken")||"BPWSVtca0ejsaNAxOh0b3krpKG8a",a=localStorage.getItem("paper_trading_accessToken"),i=n();return e&&("prod"===i?t.headers.Authorization="Bearer ".concat(e):"paperTrading"===i&&(t.headers.Authorization="Bearer ".concat(a))),t},t=>Promise.reject(t))},10328:function(t,e,a){var i,n;function r(t){return({54:i.CallDiagonalSpread,55:i.PutDiagonalSpread,56:i.CallCalendarSpread,57:i.PutCalendarSpread})[t]}a.d(e,{O:function(){return l},a:function(){return r}}),(n=i||(i={})).CallDiagonalSpread="Call Diagonal Spread",n.PutDiagonalSpread="Put Diagonal Spread",n.CallCalendarSpread="Call Calendar Spread",n.PutCalendarSpread="Put Calendar Spread";let l={1:"0",2:"0",3:"0",4:"0",5:"1",6:"1",7:"2",8:"2",9:"3",10:"3",11:"3",12:"3",13:"4",14:"4",15:"4",16:"4",17:"4",18:"4",19:"5",20:"5",21:"5",22:"6",23:"6",24:"6",25:"7",26:"7",27:"7",28:"7",29:"7",30:"7",31:"8",32:"8",33:"8",34:"8",35:"9",36:"9",37:"9",38:"9",39:"9",40:"9",41:"9",42:"9",43:"10",44:"10",45:"10",46:"10",47:"10",48:"10",49:"10",50:"10",51:"10",52:"10",53:"10",54:"10"}},67529:function(t,e,a){var i,n,r,l,s,o;function d(t){switch(t){case i.Call:return"Call";case i.Put:return"Put";case i.Stock:return"Stock"}}a.d(e,{KB:function(){return r},YQ:function(){return d},kJ:function(){return i}}),(l=i||(i={}))[l.Call=0]="Call",l[l.Put=1]="Put",l[l.Stock=2]="Stock",(s=n||(n={}))[s.Bid=0]="Bid",s[s.Mid=1]="Mid",s[s.Ask=2]="Ask",(o=r||(r={}))[o.Buy=1]="Buy",o[o.Sell=-1]="Sell"},72326:function(t,e,a){a.d(e,{AN:function(){return o},Q0:function(){return B},UK:function(){return v},X6:function(){return C},_T:function(){return b},__:function(){return K},a:function(){return u},fV:function(){return h},n9:function(){return f},rR:function(){return d},uJ:function(){return s},yq:function(){return J}});var i=a(10328),n=a(67529),r=a(51577),l=a(44961);function s(t){switch(null==t?void 0:t.length){case 1:return function(t){if(!t)return 0;switch(t.type){case n.kJ.Call:return t.direction===n.KB.Buy?1:2;case n.kJ.Put:return t.direction===n.KB.Buy?3:4;case n.kJ.Stock:default:return 0}}(t[0]);case 2:return function(t,e){if(!t||!e)return 0;switch(t.type){case n.kJ.Call:if(e.type===n.kJ.Call){let a=t.direction===n.KB.Buy?t:e,i=e.direction===n.KB.Sell?e:t;if(a.strike<=i.strike)return 1===i.size?7:a.expiration===i.expiration?11:a.strike===i.strike?56:54;return i.size===a.size?9:a.expiration===i.expiration?51:a.strike===i.strike?56:54}break;case n.kJ.Put:if(e.type===n.kJ.Put){let a=t.direction===n.KB.Sell?t:e,i=e.direction===n.KB.Buy?e:t;if(a.strike<=i.strike)return 1===a.size?8:i.expiration.getTime()===a.expiration.getTime()?12:i.strike===a.strike?57:55;return a.size===i.size?10:i.expiration.getTime()===a.expiration.getTime()?52:i.strike===a.strike?57:55}break;case n.kJ.Stock:if(e.type===n.kJ.Call||e.type===n.kJ.Stock){if(t.type===n.kJ.Stock&&t.direction===n.KB.Buy||e.type===n.kJ.Stock&&e.direction===n.KB.Buy)return 5;return 36}if(e.type===n.kJ.Put)return 6}if(t.type===n.kJ.Put&&e.type===n.kJ.Call||e.type===n.kJ.Put&&t.type===n.kJ.Call){let a=t.type===n.kJ.Put?t:e,i=e.type===n.kJ.Call?e:t;return t.direction===n.KB.Buy&&e.direction===n.KB.Buy?a.size===i.size?a.strike===i.strike?19:22:a.strike===i.strike?a.size===2*i.size?43:44:45:t.direction===n.KB.Sell&&e.direction===n.KB.Sell?t.strike===e.strike?20:23:a.direction===n.KB.Sell?37:38}return t.type===n.kJ.Stock&&(e.type,n.kJ.Stock),0}(t[0],t[1]);case 3:return function(t){var e,a,i,r,l,s;let o=t.slice().sort((t,e)=>t.strike-e.strike),d=o[0],u=o[1],c=o[2];switch([d.type,u.type,c.type].toString()){case[n.kJ.Stock,n.kJ.Put,n.kJ.Call].toString():case[n.kJ.Stock,n.kJ.Call,n.kJ.Put].toString():case[n.kJ.Call,n.kJ.Stock,n.kJ.Put].toString():case[n.kJ.Call,n.kJ.Put,n.kJ.Stock].toString():case[n.kJ.Put,n.kJ.Stock,n.kJ.Call].toString():case[n.kJ.Put,n.kJ.Call,n.kJ.Stock].toString():let y=t.filter(t=>t.type!==n.kJ.Stock).sort((t,e)=>t.strike-e.strike);if((null===(e=y[0])||void 0===e?void 0:e.type)===n.kJ.Put&&(null===(a=y[0])||void 0===a?void 0:a.direction)===n.KB.Buy)return 47;return(null===(i=y[0])||void 0===i?void 0:i.strike)===(null===(r=y[y.length-1])||void 0===r?void 0:r.strike)?21:24;case[n.kJ.Call,n.kJ.Call,n.kJ.Call].toString():if(d.direction===n.KB.Buy&&u.direction===n.KB.Sell&&c.direction===n.KB.Sell)return 31;if(d.direction===n.KB.Sell&&u.direction===n.KB.Buy&&c.direction===n.KB.Buy)return 33;return d.direction===n.KB.Buy?25:28;case[n.kJ.Put,n.kJ.Put,n.kJ.Put].toString():if(d.direction===n.KB.Buy&&u.direction===n.KB.Buy&&c.direction===n.KB.Sell)return 32;if(d.direction===n.KB.Sell&&u.direction===n.KB.Sell&&c.direction===n.KB.Buy)return 34;return d.direction===n.KB.Buy?26:29;case[n.kJ.Stock,n.kJ.Call,n.kJ.Call].toString():case[n.kJ.Call,n.kJ.Stock,n.kJ.Call].toString():case[n.kJ.Call,n.kJ.Call,n.kJ.Stock].toString():let p=t.filter(t=>t.type!==n.kJ.Stock);return(null===(l=p[0])||void 0===l?void 0:l.direction)===n.KB.Buy?39:41;case[n.kJ.Stock,n.kJ.Put,n.kJ.Put].toString():case[n.kJ.Put,n.kJ.Stock,n.kJ.Put].toString():case[n.kJ.Put,n.kJ.Put,n.kJ.Stock].toString():let k=t.filter(t=>t.type!==n.kJ.Stock);return(null===(s=k[0])||void 0===s?void 0:s.direction)===n.KB.Buy?40:42;default:return 0}}(t);case 4:return function(t){let e=t.slice().sort((t,e)=>t.strike-e.strike),a=e[0],i=e[1],r=e[2],l=e[3];switch([a.type,i.type,r.type,l.type].toString()){case[n.kJ.Call,n.kJ.Call,n.kJ.Call,n.kJ.Call].toString():if(a.direction===n.KB.Buy&&l.direction===n.KB.Buy)return 13;return 16;case[n.kJ.Put,n.kJ.Put,n.kJ.Put,n.kJ.Put].toString():if(a.direction===n.KB.Buy&&l.direction===n.KB.Buy)return 14;return 17;case[n.kJ.Put,n.kJ.Put,n.kJ.Call,n.kJ.Call].toString():case[n.kJ.Put,n.kJ.Call,n.kJ.Put,n.kJ.Call].toString():case[n.kJ.Put,n.kJ.Call,n.kJ.Call,n.kJ.Put].toString():case[n.kJ.Call,n.kJ.Put,n.kJ.Call,n.kJ.Put].toString():case[n.kJ.Call,n.kJ.Call,n.kJ.Put,n.kJ.Put].toString():if(a.direction===n.KB.Buy&&l.direction===n.KB.Buy)return i.strike===r.strike?27:15;if(a.type===n.kJ.Put&&a.direction===n.KB.Sell&&l.type===n.kJ.Call&&l.direction===n.KB.Sell)return 50;return i.strike===r.strike?30:18;default:return 0}}(t);default:return 0}}let o=t=>{let e=new Date,a=null;if(t){for(let i of t)if("Company"===i.type&&i.tables.corporate_calendars&&Array.isArray(i.tables.corporate_calendars)){let t=i.tables.corporate_calendars.slice();for(let i of(t.sort((t,e)=>{let a=new Date(t.begin_date_time),i=new Date(e.begin_date_time);return a<i?-1:a>i?1:0}),t)){let t=new Date(i.begin_date_time);if(t>e){a=i.begin_date_time;break}}}}return a};function d(t){if((null==t?void 0:t.length)<15||!/[0-9]/.test(t))return{strike:0,type:n.kJ.Stock,expiration:new Date,ticker:t||""};let e=Number(t.slice(-8)),a=t.slice(-9),i=a.charAt(0),r="C"===i?n.kJ.Call:"P"===i?n.kJ.Put:n.kJ.Stock,l=t.slice(-15).replace(a,""),s=function(t){let e=2e3+parseInt(t.slice(0,2)),a=parseInt(t.slice(2,4))-1,i=parseInt(t.slice(4,6));return new Date(e,a,i)}(l)||new Date,o=t.replace(t.slice(-15),"");return{strike:e/1e3,type:r,expiration:s,ticker:o}}let u=t=>{let e=[...t].sort((t,e)=>{let a=t.symbol.toUpperCase(),i=e.symbol.toUpperCase();return a<i?-1:a>i?1:0});return e},c=t=>{for(let e in Object.keys(t).forEach(e=>{Object.keys(t[e]).forEach(a=>{let i=[],r=!1;Object.keys(t).forEach(e=>{if(Object.keys(t[e]).forEach(n=>{if(a===n){let a=(t[e][n].main||[]).find(t=>t.quantity>=100);!r&&a&&(i.push(a),r=!0)}}),r)return});let s=(t[e][a].others||[]).filter(t=>Object.keys(t).length>0),o=1===s.length?(t[e][a].others||[]).filter(t=>t.type===n.kJ.Call&&t.quantity<0):[];i.length>0&&o.length>0&&i.map(i=>{if(i.quantity>=100){let n=Math.floor(i.quantity/100);if(n>0){let n={...i},r=n.cost_basis/n.quantity;if(n.quantity=100*Math.abs(o[0].quantity),i.quantity-=100*Math.abs(o[0].quantity),n.cost_basis=r*n.quantity,i.cost_basis=r*i.quantity,t[e][a].others.unshift({...n}),t[e][a].main[0]={...t[e][a].main[0],descriptionId:5,description:(0,l.fY)(5)},0===i.quantity){let n=t[e][a].main.indexOf(i);-1!==n&&t[e][a].main.splice(n,1)}}}})})}),t)for(let a in t[e]){let i=(t[e][a].main[0]||{}).quantity&&t[e][a].main[0].type===n.kJ.Stock,r=(t[e][a].others||[]).length;"number"==typeof i&&0===i&&0===r&&delete t[e][a]}return t},y=t=>{let e=[];return Object.keys(t).forEach(a=>{Object.keys(t[a]).forEach(r=>{let l=[],s=!1;Object.keys(t).forEach(e=>{if(Object.keys(t[e]).forEach(a=>{if(r===a){let i=(t[e][a].others||[]).filter(t=>Object.keys(t).length>0),r=i.find(t=>t.quantity>0&&1===i.length&&t.type===n.kJ.Call);!s&&r&&(l.push({position:r,timestamp:e}),s=!0)}}),s)return});let o=(t[a][r].others||[]).filter(t=>Object.keys(t).length>0),d=1===o.length?(t[a][r].others||[]).filter(t=>t.type===n.kJ.Call&&t.quantity<0):[];l.length>0&&d.length>0&&l.map(n=>{var l,s;let o={...n.position},u=!1;(null===(l=n.position)||void 0===l?void 0:l.quantity)>Math.abs(d[0].quantity)?(n.position.quantity=n.position.quantity-Math.abs(d[0].quantity),o.quantity=Math.abs(d[0].quantity),u=!1):(null===(s=n.position)||void 0===s?void 0:s.quantity)<Math.abs(d[0].quantity)?(u=n.position.quantity,n.position.quantity=Number(-(Math.abs(d[0].quantity)-n.position.quantity))):(e.push(n.timestamp),u=!1),t[a][r].others.unshift({...o}),u&&(t[a][r].others[1].quantity=Number(-u)),d[0].strike===o.strike?t[a][r].main[0]={...t[a][r].main[0],descriptionId:56,description:(0,i.a)(56)}:t[a][r].main[0]={...t[a][r].main[0],descriptionId:54,description:(0,i.a)(54)}})})}),e.map(e=>{delete t[e]}),t},p=t=>{let e=[];return Object.keys(t).forEach(a=>{Object.keys(t[a]).forEach(r=>{let l=[],s=!1;Object.keys(t).forEach(e=>{if(Object.keys(t[e]).forEach(a=>{if(r===a){let i=(t[e][a].others||[]).filter(t=>Object.keys(t).length>0),r=i.find(t=>t.quantity>0&&1===i.length&&t.type===n.kJ.Put);!s&&r&&(l.push({position:r,timestamp:e}),s=!0)}}),s)return});let o=(t[a][r].others||[]).filter(t=>Object.keys(t).length>0),d=1===o.length?(t[a][r].others||[]).filter(t=>t.type===n.kJ.Put&&t.quantity<0):[];l.length>0&&d.length>0&&l.map(n=>{var l,s;let o={...n.position},u=!1;(null===(l=n.position)||void 0===l?void 0:l.quantity)>Math.abs(d[0].quantity)?(n.position.quantity=n.position.quantity-Math.abs(d[0].quantity),o.quantity=Math.abs(d[0].quantity),u=!1):(null===(s=n.position)||void 0===s?void 0:s.quantity)<Math.abs(d[0].quantity)?(u=n.position.quantity,n.position.quantity=Number(-(Math.abs(d[0].quantity)-n.position.quantity))):(e.push(n.timestamp),u=!1),t[a][r].others.unshift({...o}),u&&(t[a][r].others[1].quantity=Number(-u)),d.strike===o.strike?t[a][r].main[0]={...t[a][r].main[0],descriptionId:57,description:(0,i.a)(57)}:t[a][r].main[0]={...t[a][r].main[0],descriptionId:55,description:(0,i.a)(55)}})})}),e.map(e=>{delete t[e]}),t},k=t=>{let e=[];return Object.keys(t).forEach(a=>{Object.keys(t[a]).forEach(i=>{let r=[],s=!1;Object.keys(t).forEach(e=>{if(Object.keys(t[e]).forEach(a=>{if(i===a){let i=(t[e][a].others||[]).filter(t=>Object.keys(t).length>0),l=[],o=[];2==i.length&&(i.forEach(t=>{t.type===n.kJ.Put&&(t.quantity>0?l.push({position:t,timestamp:e}):t.quantity<0&&o.push({position:t,timestamp:e}))}),s)||1!==l.length||1!==o.length||(r.push(l[0]),r.push(o[0]),s=!0)}}),s)return});let o=[],d=[],u=(t[a][i].others||[]).filter(t=>Object.keys(t).length>0);u.forEach(t=>{t.type===n.kJ.Call&&(t.quantity>0?o.push(t):t.quantity<0&&d.push(t))});let c=[];1===o.length&&1===d.length&&(c.push(o[0]),c.push(d[0])),2===r.length&&2===c.length&&r.map(n=>{let r={...n.position},s={...n.position}.expiration;s.setHours(0,0,0,0);let o={...u[0]}.expiration;o.setHours(0,0,0,0),s.getTime()===o.getTime()?(t[a][i].main[0]={...t[a][i].main[0],descriptionId:15,description:(0,l.fY)(15)},t[a][i].others.unshift({...r}),e.push(n.timestamp)):(s.getTime(),o.getTime())})})}),e.map(e=>{delete t[e]}),t},h=t=>{var e;let a=(null==t?void 0:null===(e=t.map)||void 0===e?void 0:e.call(t,t=>{let e=d(t.symbol);return{...t,...e}}))||[],i=function(t){var e;let a={};null==t||null===(e=t.forEach)||void 0===e||e.call(t,t=>{let e=d(null==t?void 0:t.symbol),i=null==t?void 0:t.date_acquired,r=(null==e?void 0:e.ticker)||"defaultSymbol";if(a[i]||(a[i]={}),a[i][r]||(a[i][r]={main:[],others:[]}),t.type!==n.kJ.Stock||a[i][r].main.length){var l;let n;n=(null==t?void 0:t.description)?function(t){let e=t.split(" ");if(6!==e.length)return"Invalid input format";{let t=e[1],a=e[2],i=e[3].slice(-2),n="".concat(t," ").concat(a," ‘").concat(i);e.splice(1,3,n),e.shift();let r=e.join(" ");return r}}(null==t?void 0:t.description):"",(null===(l=a[i][r].others)||void 0===l?void 0:l.length)===0&&(a[i][r].main[0]&&a[i][r].others.push({...a[i][r].main[0]}),a[i][r].main=[{symbol:null==e?void 0:e.ticker}]),t&&a[i][r].others.push({...t,shortDescription:n})}else a[i][r].main.push({...t})});let i=k(a),r=c(i),l=y(r),s=p(l);return Object.values(s).map(t=>Object.values(t).map(t=>({main:t.main[0],others:t.others.filter(t=>0!==Object.keys(t||{}).length)}))).flat()}(a),r=g(i);return r},g=t=>{var e,a;let i=null==t?void 0:null===(e=t.map)||void 0===e?void 0:e.call(t,t=>{let e=0,a=0,i=0,n=0,r=0,o=0,u="",c=0,y=null==t?void 0:t.others.map(t=>{var l,s,y,p;e=e<Math.abs(t.quantity)?Math.abs(t.quantity):e,t.ask=t.quantity>0?t.ask:-1*t.ask,t.bid=t.quantity>0?t.bid:-1*t.bid;let k=Number(t.ask&&t.bid?((t.ask+t.bid)/2).toFixed(2):0);if(a+=k,i=Number(t.cost_basis?i+t.cost_basis:0),n+=t.change,u="".concat(u,"-").concat(t.id),2===t.type?r+=null==t?void 0:t.quantity:r+=(null==t?void 0:null===(y=t.greeks)||void 0===y?void 0:y.delta)?(null==t?void 0:null===(p=t.greeks)||void 0===p?void 0:p.delta)*100*(t.quantity<0?-1:1):0,c=Math.abs(c-t.strike),o+=(null==t?void 0:null===(l=t.greeks)||void 0===l?void 0:l.theta)?(null==t?void 0:null===(s=t.greeks)||void 0===s?void 0:s.theta)*100:0,t.symbol){let e=d(null==t?void 0:t.symbol);return{strike:null==e?void 0:e.strike,size:t.quantity,purchasePrice:null==t?void 0:t.cost_basis,direction:t.quantity<0?-1:1,type:null==e?void 0:e.type,expiration:null==e?void 0:e.expiration,symbol:null==t?void 0:t.symbol,volatility:0,range:"",indexOfStrikePrice:0,index:0}}}),p=y.filter(t=>void 0!==t);if(p.length){let d=s(p),y=(0,l.fY)(d);t.main.description||(t.main.description=y,t.main.descriptionId=d),t.main.theta=o.toFixed(2),t.main.delta=r.toFixed(2),t.main.change=n,i<=0||(null==y?void 0:y.toLowerCase().includes("short"))?t.main.quantity=-Math.abs(e):t.main.quantity=Math.abs(e),t.main.lastCustomValue=a.toFixed(2),t.main.cost_basis=i,t.main.secCost_basis=i?(i/t.main.quantity).toFixed(2):"-",t.main.id=u;let k=Number((100*a-i).toFixed(2));if(9===t.main.descriptionId||10===t.main.descriptionId||11===t.main.descriptionId||12===t.main.descriptionId){let e=(c-i/100)*100;t.main.roi=m(k,e)}else t.main.roi=k?k/i*100:0}return t});return null==i?void 0:null===(a=i.reduce)||void 0===a?void 0:a.call(i,(t,e)=>{let a=e.main.symbol,i=t.find(t=>t.symbol===a);return i?i.entries.push(e):t.push({symbol:a,entries:[e]}),t},[])},f=t=>t.replace(t.slice(-15),""),v=(t,e)=>t.map((t,a)=>{let i,n;let r=e.find(e=>e.symbol===t.symbol),l=0,s=0,d=0,u=0,c=0,y=0,p=null,k=null,h=0;return t.entries.length>1?n="Multiple":1===t.entries.length&&(n=2===t.entries[0].main.type?"Shares":t.entries[0].main.description),t.entries.map((e,a)=>{var n,g,f,v,b,C,B,J,K,I,q,L,_,T,M;let x=0,j=0,w=0,D=0;t.entries.length>1?w=2===e.main.type?e.main.quantity:e.main.description:1===t.entries.length&&(w=2===e.main.type?e.main.quantity:5===e.main.descriptionId?1:Math.abs(e.main.quantity)),s=s+((null==e?void 0:null===(n=e.main)||void 0===n?void 0:n.change)||0)*((null==e?void 0:null===(g=e.main)||void 0===g?void 0:g.quantity)||0)||0;let O=Number((null==e?void 0:null===(f=e.main)||void 0===f?void 0:f.delta)?(null==e?void 0:null===(v=e.main)||void 0===v?void 0:v.delta)*e.main.quantity:e.main.quantity);c+=isNaN(O)?0:O,h+=isNaN(null==e?void 0:null===(b=e.main)||void 0===b?void 0:b.theta)?0:Number(null==e?void 0:null===(C=e.main)||void 0===C?void 0:C.theta),y+=null===(B=e.main)||void 0===B?void 0:B.cost_basis;let A=null,E=null;if(E=o(null===(J=e.main)||void 0===J?void 0:null===(K=J.calendars)||void 0===K?void 0:K.results),Array.isArray(null==e?void 0:null===(I=e.main)||void 0===I?void 0:I.results)&&(null==e||null===(_=e.main)||void 0===_||null===(T=_.results)||void 0===T||T.forEach(t=>{var e,a,i;(null==t?void 0:null===(e=t.tables)||void 0===e?void 0:e.cash_dividends)&&(null==t||null===(a=t.tables)||void 0===a||null===(i=a.cash_dividends)||void 0===i||i.forEach(t=>{let e=null==t?void 0:t.ex_date;e>A?A=e:null===A&&(A=e)}))})),p=A,k=E,2===e.main.type){let t=(e.main.ask+e.main.bid)/2;j=P(x=t*e.main.quantity,e.main.type,e.main.cost_basis)}null==e||null===(q=e.others)||void 0===q||q.map((n,l)=>{let s=new Date(n.expiration_date),o=new Date,d=s.getTime()-o.getTime(),c=Math.ceil(d/864e5),y=(n.ask+n.bid)/2,p=2===n.type?y*Math.abs(n.quantity):y*Math.abs(n.quantity)*100,k=2===n.type?n.cost_basis/Math.abs(n.quantity):n.cost_basis/Math.abs(100*n.quantity);2!==e.main.type&&(x+=p,j+=P(p,n.type,n.cost_basis)),null==c||isNaN(c)||(i=null!=i?Math.min(c,i):c);let h=((null==r?void 0:r.ask)+(null==r?void 0:r.bid))/2,g=n.strike<h?(y-(h-n.strike))*n.quantity:y;u+=g||0,D+=g||0;let f=P(p,n.type,n.cost_basis);t.entries[a].others[l].mark_value=p,t.entries[a].others[l].total_gain_loss=f,t.entries[a].others[l].secCost_basis=k,9!==t.entries[a].main.descriptionId&&10!==t.entries[a].main.descriptionId&&11!==t.entries[a].main.descriptionId&&12!==t.entries[a].main.descriptionId?t.entries[a].others[l].roi=S(f,null==n?void 0:n.cost_basis):t.entries[a].others[l].roi=m(f,null==n?void 0:n.cost_basis),t.entries[a].others[l].exitValue=g,t.entries[a].others[l].change=n.change*n.quantity,t.entries[a].others[l].delta=n.delta*n.quantity});let N=2===e.main.type?e.main.cost_basis/e.main.quantity:null==e?void 0:e.others.reduce((t,e)=>t+e.secCost_basis,0);l+=x,d+=j,t.entries[a].main.mainDisplayQuantity=(null===(L=e.main)||void 0===L?void 0:L.cost_basis)<0&&"number"==typeof w?-1*w:w,t.entries[a].main.mrk_value=x,t.entries[a].main.total_gain_loss=j,t.entries[a].main.exitValue=D,t.entries[a].main.secCost_basis=N,9!==t.entries[a].main.descriptionId&&10!==t.entries[a].main.descriptionId&&11!==t.entries[a].main.descriptionId&&12!==t.entries[a].main.descriptionId&&(t.entries[a].main.roi=S(j,null===(M=e.main)||void 0===M?void 0:M.cost_basis)),t.entries[a].main.change=e.main.change*Math.abs(w)}),{...t,ask:null==r?void 0:r.ask,bid:null==r?void 0:r.bid,displayQuantity:n,marketValue:l,dayLeft:i,todayGainLoss:s,totalGainLoss:d,roi:S(d,y),delta:(c||0).toFixed(2),costBasis:y,exitValue:u,divDate:p,earningsDate:k,theta:h}}),S=(t,e)=>e?t/Math.abs(e)*100:0,m=(t,e)=>e?t/Math.abs(e)*100:0,b=t=>{let e=parseFloat(t);return isNaN(e)?t:(e<0?"-$":"$")+(0,r._)(Math.abs(e).toFixed(2))},C=t=>{let e=parseFloat(t);return isNaN(e)?t:(e<0?"-":"")+(0,r._)(Math.abs(e).toFixed(2))},B=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(t=parseFloat(t)).toFixed(e)},P=(t,e,a)=>parseFloat(t)-parseFloat(a),J=(t,e)=>e>=0?Math.abs(t):-Math.abs(t),K=t=>t.split("_").map(t=>t.charAt(0)+t.slice(1)).join(" ")},51577:function(t,e,a){a.d(e,{_:function(){return i},r:function(){return n}});let i=t=>{if(isNaN(t)||void 0===t||""===t||"boolean"==typeof t||null===t)return"";let e=null==t?void 0:t.toString(),[a,i]=null==e?void 0:e.split("."),n=null==a?void 0:a.replace(/\B(?=(\d{3})+(?!\d))/g,","),r=i?"".concat(n,".").concat(i):n;return r},n=t=>{let e=parseFloat(t);if(isNaN(e))return t;let a=e.toFixed(2);return i(a)}}}]);