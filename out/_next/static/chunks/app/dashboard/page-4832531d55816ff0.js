(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{95853:function(e,s,l){var a;"undefined"!=typeof self&&self,e.exports=(a=l(86006),function(e){function s(a){if(l[a])return l[a].exports;var t=l[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}var l={};return s.m=e,s.c=l,s.d=function(e,l,a){s.o(e,l)||Object.defineProperty(e,l,{configurable:!1,enumerable:!0,get:a})},s.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(l,"a",l),l},s.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},s.p="",s(s.s=0)}([function(e,s,l){"use strict";function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}function t(e,s){(null==s||s>e.length)&&(s=e.length);for(var l=0,a=Array(s);l<s;l++)a[l]=e[l];return a}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(s,"__esModule",{value:!0}),l.d(s,"HighchartsReact",function(){return d});var i=l(1),o=l.n(i),r="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,d=Object(i.memo)(Object(i.forwardRef)(function(e,s){var l=Object(i.useRef)(),d=Object(i.useRef)(),c=Object(i.useRef)(e.constructorType),u=Object(i.useRef)(e.highcharts);return r(function(){function s(){var s=e.highcharts||"object"===("undefined"==typeof window?"undefined":n(window))&&window.Highcharts,a=e.constructorType||"chart";s?s[a]?e.options?d.current=s[a](l.current,e.options,e.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(d.current){if(!1!==e.allowChartUpdate){if(e.constructorType!==c.current||e.highcharts!==u.current)c.current=e.constructorType,u.current=e.highcharts,s();else if(!e.immutable&&d.current){var a,i;(a=d.current).update.apply(a,[e.options].concat(function(e){if(Array.isArray(e))return t(e)}(i=e.updateArgs||[!0,!0])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,s){if(e){if("string"==typeof e)return t(e,s);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?t(e,s):void 0}}(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}else s()}}else s()},[e.options,e.allowChartUpdate,e.updateArgs,e.containerProps,e.highcharts,e.constructorType]),r(function(){return function(){d.current&&(d.current.destroy(),d.current=null)}},[]),Object(i.useImperativeHandle)(s,function(){return{get chart(){return d.current},container:l}},[]),o.a.createElement("div",a({},e.containerProps,{ref:l}))}));s.default=d},function(e,s){e.exports=a}]))},85326:function(e,s,l){Promise.resolve().then(l.bind(l,25794))},25794:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return eC}});var a=l(9268),t=l(71024),n=l(99362),i=l(5630),o=l(67755),r=l(21630);l(17544),l(70545);var d=l(27669),c=l.n(d),u=l(76708),m=l(86006),h=l(57321),p=l(73429),v=l(24831),x=l(39622),_=l(32574),j=l(91330),g=l(78962),b=l(56008),y=l(76185),f=l(76394),N=l.n(f),w=l(89133),k={src:"/_next/static/media/document.ead7b001.svg",height:104,width:104,blurWidth:0,blurHeight:0},C=l(48817),S=l(51577),D=l(72326),T=e=>{let{t:s,i18n:l}=(0,u.$G)(),t=(0,h.T)(),i=(0,h.C)(w.UK),o=(0,b.useRouter)(),[r,d]=(0,m.useState)(!1),{watchlist:p,lastRefresh:v}=e;"null"===p&&(p=[]);let[_,f]=(0,m.useState)([]),T=[];(0,m.useEffect)(()=>{p&&(p.forEach(e=>{T.push(e.symbol)}),t((0,w.fr)(T)))},[p,v,t]),(0,m.useEffect)(()=>{if(p&&i){let e=[...p];i.forEach(s=>{let l=p.findIndex(e=>e.symbol===s.symbol);-1!==l&&(e[l]={...e[l],...s})}),f(e)}},[i,p]);let[Z,I]=(0,m.useState)([]),F=e=>{Z.includes(e)?I(Z.filter(s=>s!==e)):I([...Z,e])},L=e=>{let s=e.split("(")[0].trim();o.push("/trade?q=".concat(s,"&start=").concat(y.M1,"&end=").concat(y.vQ))};return new C.Howl({src:["../assets/sound/success.mp3"],volume:1}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,a.jsxs)("h3",{className:c().watchlistTitle,children:[s("Dashboard.Watch List")," (",null==_?void 0:_.length,")"]}),(0,a.jsx)("span",{onClick:()=>{Z.map(e=>{t((0,x.BZ)(encodeURIComponent(e))).then(()=>{d(!0),I([])})})},className:"icon-delete"})]}),0!==_.length?(0,a.jsx)("ul",{className:c().wishlist,children:null==_?void 0:_.map(e=>{let s=e.close;return("null"===e.close||null===e.close)&&(s=e.last),(0,a.jsxs)("li",{className:c().wishlist__item,children:[(0,a.jsx)("div",{className:c().logo,onClick:()=>{L(e.symbol)},children:(0,a.jsx)(N(),{src:e.symbol?"https://storage.googleapis.com/iexcloud-hl37opg/api/logos/".concat(e.symbol,".png"):"../assets/images/apple.svg",alt:e.symbol,fill:!0})}),(0,a.jsxs)("div",{onClick:()=>{L(e.symbol)},className:c().info,children:[(0,a.jsx)("h5",{className:c().name,children:e.symbol}),(0,a.jsx)("p",{className:c().symbol,children:e.description})]}),(0,a.jsxs)("div",{className:c().price,onClick:()=>{L(e.symbol)},children:[(0,a.jsxs)("strong",{children:["$ ",(0,S._)(e.last||0)]}),(0,a.jsxs)("span",{className:e.change_percentage>=0?c().up:c().down,children:[(0,a.jsx)("span",{className:e.change_percentage>=0?"icon-up":"icon-down"}),(0,a.jsxs)("span",{children:[(0,D._T)(e.change)||0," (",(0,D.Q0)(e.change_percentage||0),"%)"]})]})]}),(0,a.jsx)("div",{className:c().actions,children:(0,a.jsx)("div",{className:"form-check",children:(0,a.jsx)("input",{className:"form-check-input",type:"checkbox",checked:Z.includes(e.id),onChange:()=>F(e.id)})})})]},e.id+s+e.prevclose)})}):(0,a.jsxs)("div",{className:c().noData,children:[(0,a.jsx)("span",{className:c().icon,children:(0,a.jsx)(N(),{src:k,fill:!0,alt:"No Data"})}),(0,a.jsx)("strong",{children:"No Data"}),(0,a.jsx)("p",{children:"Please add item to watchlist"}),(0,a.jsx)(n.Z,{variant:"outline-primary",onClick:()=>{o.push("/trade")},children:"+ Add Now"})]}),(0,a.jsx)(j.Z,{position:"top-end",className:"p-3",children:(0,a.jsxs)(g.Z,{bg:"success",show:r,onClose:()=>d(!1),delay:2e3,children:[(0,a.jsx)(g.Z.Header,{}),(0,a.jsx)(g.Z.Body,{children:(0,a.jsxs)("div",{className:"info",children:[(0,a.jsx)("div",{className:"icon",children:(0,a.jsx)("span",{className:"icon-done"})}),(0,a.jsxs)("div",{className:"infoDetails",children:[(0,a.jsx)("strong",{children:"Success"}),(0,a.jsxs)("p",{children:[" ",1===Z.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-uppercase",children:Z[0]})," was"]}):"Selected items were"," ","removed from your default watchlist."]})]})]})})]})})]})},Z=l(67529),I=l(28725),F=l(17004),L=l(59683),E=l.n(L),O=l(8303),q=l(33125);l(30807);var A=l(52090),P=l(64859),R=l(54030),Q=l(64828);function B(e,s,l){let[a]=s,t=a.currentTarget,n=a.relatedTarget||a.nativeEvent[l];n&&n===t||(0,O.Z)(t,n)||e(...s)}var H=function({trigger:e=["hover","focus"],overlay:s,children:l,popperConfig:t={},show:n,defaultShow:i=!1,onToggle:o,delay:r,placement:d,flip:c=d&&-1!==d.indexOf("auto"),...u}){let h=(0,m.useRef)(null),p=(0,P.Z)(h,l.ref),v=(0,q.Z)(),x=(0,m.useRef)(""),[_,j]=(0,A.$c)(n,i,o),g=r&&"object"==typeof r?r:{show:r,hide:r},{onFocus:b,onBlur:y,onClick:f}="function"!=typeof l?m.Children.only(l).props:{},N=(0,m.useCallback)(()=>{if(v.clear(),x.current="show",!g.show){j(!0);return}v.set(()=>{"show"===x.current&&j(!0)},g.show)},[g.show,j,v]),w=(0,m.useCallback)(()=>{if(v.clear(),x.current="hide",!g.hide){j(!1);return}v.set(()=>{"hide"===x.current&&j(!1)},g.hide)},[g.hide,j,v]),k=(0,m.useCallback)((...e)=>{N(),null==b||b(...e)},[N,b]),C=(0,m.useCallback)((...e)=>{w(),null==y||y(...e)},[w,y]),S=(0,m.useCallback)((...e)=>{j(!_),null==f||f(...e)},[f,j,_]),D=(0,m.useCallback)((...e)=>{B(N,e,"fromElement")},[N]),T=(0,m.useCallback)((...e)=>{B(w,e,"toElement")},[w]),Z=null==e?[]:[].concat(e),I={ref:e=>{p((0,Q.Z)(e))}};return -1!==Z.indexOf("click")&&(I.onClick=S),-1!==Z.indexOf("focus")&&(I.onFocus=k,I.onBlur=C),-1!==Z.indexOf("hover")&&(I.onMouseOver=D,I.onMouseOut=T),(0,a.jsxs)(a.Fragment,{children:["function"==typeof l?l(I):(0,m.cloneElement)(l,I),(0,a.jsx)(R.Z,{...u,show:_,onHide:w,flip:c,placement:d,popperConfig:t,target:h.current,children:s})]})},M=l(8683),G=l.n(M),W=l(25710),$=l(15729),U=l(25190);let V=m.forwardRef(({bsPrefix:e,placement:s="right",className:l,style:t,children:n,arrowProps:i,hasDoneInitialMeasure:o,popper:r,show:d,...c},u)=>{e=(0,W.vE)(e,"tooltip");let m=(0,W.SC)(),[h]=(null==s?void 0:s.split("-"))||[],p=(0,$.z)(h,m),v=t;return d&&!o&&(v={...t,...(0,U.Z)(null==r?void 0:r.strategy)}),(0,a.jsxs)("div",{ref:u,style:v,role:"tooltip","x-placement":h,className:G()(l,e,`bs-tooltip-${p}`),...c,children:[(0,a.jsx)("div",{className:"tooltip-arrow",...i}),(0,a.jsx)("div",{className:`${e}-inner`,children:n})]})});V.displayName="Tooltip";var z=l(42698),J=l(24441);l(98758);var K=l(23220),Y=l.n(K),X=()=>{let[e,s]=(0,m.useState)(new Date);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("ul",{className:Y().cashAvailable,children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("label",{children:"Cash Available"}),(0,a.jsx)("strong",{children:"$504.00"})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("label",{children:"Expiration Date"}),(0,a.jsx)("strong",{children:"29/05/2023"})]})]}),(0,a.jsxs)(J.Z,{className:"px-4",children:[(0,a.jsxs)("ul",{className:Y().leglist,children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{className:Y().name,children:"Name"}),(0,a.jsx)("strong",{className:Y().legPrice,children:"Leg Price ($)"})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)(J.Z.Control,{type:"text",value:"Leg 01",disabled:!0,className:Y().name}),(0,a.jsxs)("div",{className:Y().legPrice,children:[(0,a.jsx)(J.Z.Control,{type:"number",value:"150"}),(0,a.jsx)("span",{className:"icon-arrow up"}),(0,a.jsx)("span",{className:"icon-arrow down"})]})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)(J.Z.Control,{type:"text",value:"Leg 02",disabled:!0,className:Y().name}),(0,a.jsxs)("div",{className:Y().legPrice,children:[(0,a.jsx)(J.Z.Control,{type:"number",value:"150"}),(0,a.jsx)("span",{className:"icon-arrow up"}),(0,a.jsx)("span",{className:"icon-arrow down"})]})]})]}),(0,a.jsxs)("div",{className:Y().Totalprice,children:[(0,a.jsx)("label",{children:"Estimated cost:"}),(0,a.jsx)("strong",{children:"$345.00"})]})]})]})},ee={src:"/_next/static/media/error.ca02a7db.svg",height:47,width:46,blurWidth:0,blurHeight:0},es=e=>{let{modalTitle:s,modalDesc:l,gainLoss:t,change:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N(),{src:ee,alt:"Error",width:34,height:34}),(0,a.jsx)("h5",{className:"mt-3",children:s}),null==t?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:Y().gainloss,children:[(0,a.jsx)("label",{children:"Gain / Loss"}),(0,a.jsx)("strong",{children:t}),(0,a.jsx)("span",{children:n})]})}),(0,a.jsx)("p",{className:"mb-4",children:l})]})},el=l(81301),ea=l.n(el),et=l(4999),en=l(77388),ei=l(34459),eo=l(18618),er=l(53464),ed=function(e){let{handleColumnChange:s,selectedColumns:l}=e,t=e=>{l.includes(e)?s(l.filter(s=>s!==e)):s([...l,e])};return(0,a.jsxs)(er.Z,{className:"positionDropdown",children:[(0,a.jsxs)(er.Z.Toggle,{variant:"outline-primary",id:"dropdown-basic",children:[(0,a.jsx)("span",{className:"icon-columns"})," Columns"]}),(0,a.jsx)(er.Z.Menu,{children:[{key:"mkt_value",value:"Mkt Value"},{key:"days_left",value:"Days Left"},{key:"today_gain_loss",value:"Today Gain/Loss"},{key:"total_gain_loss",value:"Total Gain/Loss"},{key:"roi",value:"ROI"},{key:"exit_value",value:"Ext Value"},{key:"position_delta",value:"Position Delta"},{key:"cost_basis",value:"Cost Basis"},{key:"div_date",value:"Div Date"},{key:"earnings_date",value:"Earning Date"},{key:"theta",value:"Theta"}].map(e=>(0,a.jsx)(J.Z.Check,{type:"checkbox",label:e.value,id:"checkbox-".concat(e.key),checked:l.includes(e.key),onChange:()=>t(e.key)},e.key))})]})},ec=l(44961);let eu=ea()(()=>l.e(992).then(l.bind(l,43992)),{loadableGenerated:{webpack:()=>[43992]},ssr:!1});var em=(e,s)=>{let l=(0,h.T)(),{t}=(0,u.$G)(),n=(0,h.C)(w.UK),i=(0,h.C)(et.Up),o=(0,h.C)(en.fI),r=(0,b.useRouter)(),[d,c]=(0,m.useState)(!1),[p,v]=(0,m.useState)(!1),[x,_]=(0,m.useState)("add_to_existing"),[j,g]=(0,m.useState)(""),[f,k]=(0,m.useState)(""),[C,T]=(0,m.useState)({}),[L,O]=(0,m.useState)(!1),[q,A]=(0,m.useState)([]),[P,R]=(0,m.useState)(!1),[Q,B]=(0,m.useState)("buy"),[M,G]=(0,m.useState)(["days_left","today_gain_loss","total_gain_loss","roi","position_delta","mark","mkt_value","div_date","earnings_date","theta","exit_value","mid","change","value","cost_basis","gain_loss"]),[W,$]=(0,m.useState)([]),[U,J]=(0,m.useState)({}),K=()=>{v(!1),O(!1),A([]),B("buy"),_(""),g("")},Y=e=>{let{id:s,children:l,title:t}=e;return(0,a.jsx)(H,{overlay:(0,a.jsx)(V,{id:s,children:t}),children:l})},ee=(e,s)=>{var l,a,t,n,i,o,d,c,u;let m=[],h=1,p=null,v=null===(l=(null==e?void 0:null===(a=e.main)||void 0===a?void 0:a.description)||"")||void 0===l?void 0:null===(t=l.toLowerCase)||void 0===t?void 0:t.call(l);if("covered call"===v&&(e.others=null==e?void 0:null===(o=e.others)||void 0===o?void 0:o.map(e=>(e.quantity&&e.quantity/100>=1&&(e.coveredQuantity=Math.floor(e.quantity/100)),e))),s){p=e.expiration_date||(0,y.wT)(e.expiration),m.push({expiration_date:p,strike:e.strike,ticker:e.ticker,option_type:e.option_type,type:e.type,ask:e.ask,bid:e.bid,quantity:(null==e?void 0:e.coveredQuantity)||e.quantity,mid_iv:null==e?void 0:null===(d=e.greeks)||void 0===d?void 0:d.mid_iv}),e.quantity>=0&&"call"===e.option_type?h=1:e.quantity<0&&"call"===e.option_type?h=2:e.quantity>=0&&"put"===e.option_type?h=3:e.quantity<0&&"put"===e.option_type&&(h=4);let s=null==e?void 0:e.ticker;sessionStorage.setItem("legs",JSON.stringify(m)),r.push("/trade?q=".concat(s,"&start=").concat(y.M1,"&end=").concat(y.vQ,"&activeTab=option-strategies&strategy=").concat(h,"&expiration=").concat(p));return}for(let s=1;s<=53;s++)if((0,ec.fY)(s)===(null==e?void 0:null===(c=e.main)||void 0===c?void 0:c.description)){h=s;break}for(let s of null==e?void 0:e.others)2!==s.type&&(p=s.expiration_date||(0,y.wT)(s.expiration)),m.push({expiration_date:s.expiration_date||(0,y.wT)(s.expiration),strike:s.strike,ticker:s.ticker,option_type:s.option_type,type:s.type,ask:s.ask,bid:s.bid,quantity:(null==s?void 0:s.coveredQuantity)||s.quantity,mid_iv:null==s?void 0:null===(u=s.greeks)||void 0===u?void 0:u.mid_iv});let x=null==e?void 0:null===(n=e.main)||void 0===n?void 0:null===(i=n.symbol)||void 0===i?void 0:i.split("(")[0].trim();sessionStorage.setItem("legs",JSON.stringify(m)),r.push("/trade?q=".concat(x,"&start=").concat(y.M1,"&end=").concat(y.vQ,"&activeTab=option-strategies&strategy=").concat(h,"&expiration=").concat(p))},[el,ea]=(0,m.useState)([]),er=(0,m.useRef)(W);(0,m.useEffect)(()=>{er.current=W},[W]),(0,m.useEffect)(()=>{let e=async()=>{let e=await Promise.all(W.map(e=>new Promise(s=>{let l=document.createElement("img");l.src="https://storage.googleapis.com/iexcloud-hl37opg/api/logos/".concat(e.symbol,".png"),l.onload=()=>{s(!0)},l.onerror=()=>{s(!1)},l.style.display="none",document.body.appendChild(l)})));ea(e)};return e(),()=>{W.forEach((e,s)=>{let l=document.getElementById("img-".concat(e.symbol,"-").concat(s));l&&document.body.removeChild(l)})}},[er.current.length]);let em=[{name:t("Dashboard.Symbol"),width:"7rem",cell:(e,s)=>el[s]?(0,a.jsx)("div",{className:"Logo",children:(0,a.jsx)(N(),{src:e.symbol?"https://storage.googleapis.com/iexcloud-hl37opg/api/logos/".concat(e.symbol,".png"):"../assets/images/apple.svg",alt:e.symbol,fill:!0})}):(0,a.jsx)("div",{className:E().letterLogoContainer,children:(0,a.jsx)("span",{className:E().letterLogo,children:e.symbol})})},{name:"",width:"25rem",cell:e=>(0,a.jsx)(a.Fragment,{children:e.symbol})},{name:t("Dashboard.Mark"),width:"10rem",cell:e=>(0,a.jsx)(a.Fragment,{children:(0,D._T)((e.ask+e.bid)/2)})},{name:t("Dashboard.Quantity"),width:"10rem",cell:e=>e.displayQuantity},{name:t("Dashboard.Days Left"),omit:!(null==M?void 0:M.includes("days_left")),width:"5.5rem",cell:e=>e.dayLeft},{name:t("Dashboard.Mkt Value"),omit:!(null==M?void 0:M.includes("mkt_value")),width:"11rem",cell:e=>(0,a.jsx)(a.Fragment,{children:(0,D._T)(e.marketValue)})},{name:t("Dashboard.Cost Basis"),omit:!(null==M?void 0:M.includes("cost_basis")),width:"11rem",cell:e=>(0,a.jsxs)(a.Fragment,{children:[(0,D._T)(null==e?void 0:e.costBasis),(0,a.jsx)("br",{})]})},{name:t("Dashboard.Today's Gain/Loss"),omit:!(null==M?void 0:M.includes("today_gain_loss")),width:"10rem",cell:e=>(0,a.jsx)("span",{className:e.todayGainLoss<=0&&e.todayGainLoss?"text-danger":"text-success",children:(0,D._T)(e.todayGainLoss)})},{name:t("Dashboard.Total Gain/Loss"),omit:!(null==M?void 0:M.includes("total_gain_loss")),width:"10rem",cell:e=>(0,a.jsx)("span",{className:e.totalGainLoss<=0&&e.totalGainLoss?"text-danger":"text-success",children:(0,D._T)(e.totalGainLoss)})},{name:t("Dashboard.ROI"),omit:!(null==M?void 0:M.includes("roi")),width:"10rem",cell:e=>(0,a.jsxs)(a.Fragment,{children:[(0,S._)((0,D.Q0)(e.roi)),"%"]})},{name:t("Dashboard.Ext Value"),omit:!(null==M?void 0:M.includes("exit_value")),width:"10rem",cell:e=>(0,S._)((0,D.Q0)(e.exitValue))},{name:t("Dashboard.Position Delta"),omit:!(null==M?void 0:M.includes("position_delta")),width:"10rem",cell:e=>(0,a.jsxs)(a.Fragment,{children:[e.delta||""," Δ"]})},{name:t("Dashboard.Theta"),omit:!(null==M?void 0:M.includes("theta")),width:"10rem",cell:e=>(0,a.jsx)(a.Fragment,{children:(0,D._T)(e.theta)||""})},{name:t("Dashboard.Div Date"),omit:!(null==M?void 0:M.includes("div_date")),width:"10rem",cell:e=>e.divDate?(0,y.Bi)(e.divDate):""},{name:t("Dashboard.Earnings Date"),omit:!(null==M?void 0:M.includes("earnings_date")),width:"10rem",cell:e=>(null==e?void 0:e.earningsDate)?(0,y.Bi)(e.earningsDate):""},{name:t("Dashboard.Action"),width:"14rem",cell:e=>(0,a.jsxs)("div",{className:"w-100",onClick:()=>ev(!1,e),children:[(0,a.jsx)("span",{className:"icon-exchange disabled"}),(0,a.jsx)("span",{className:"icon-area_chart disabled"}),(0,a.jsx)("span",{className:"icon-library_add disabled"}),(0,a.jsx)("span",{className:"icon-do_not_disturb_on disabled"})]})}],eh=null==e?void 0:e.positions,ep=[];(0,m.useEffect)(()=>{if(null==eh&&(eh=[]),eh){var e;null==eh||null===(e=eh.forEach)||void 0===e||e.call(eh,e=>{let s=(0,D.n9)(e.symbol);s&&!ep.includes(s)&&ep.push(s),ep.push(e.symbol)}),ep.length&&(l((0,w.fr)(ep)),l((0,et.At)(ep)),l((0,en.XL)(ep)))}},[eh,s,l]),(0,m.useEffect)(()=>{if(n&&eh){var e;let s=null==eh?void 0:null===(e=eh.map)||void 0===e?void 0:e.call(eh,e=>{let s=n.find(s=>s.symbol===e.symbol),l=null==i?void 0:i.find(s=>s.request===e.symbol),a=null==o?void 0:o.find(s=>s.request===e.symbol);if(s){let t={...e,...s,calendars:a};return l?{...t,...l}:t}return e}),l=(0,D.fV)(s),a=(0,D.UK)(l,n);$(a)}},[n,eh,i,o]);let ev=(e,s)=>{let l={...U};l[s.symbol]?delete l[s.symbol]:l[s.symbol]=!0,J(l)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-4 d-flex justify-content-between align-items-center",children:[(0,a.jsxs)("h3",{className:"",children:[t("Dashboard.Positions")," (",null==W?void 0:W.length,")"]}),(0,a.jsx)("div",{className:"".concat(E().Columns," mb-4"),children:(0,a.jsx)(ed,{selectedColumns:M,handleColumnChange:e=>G(e)})})]}),(0,a.jsx)(eu,{className:"DataTable PositionTable",paginationPerPage:30,columns:em,data:W?(0,D.a)(W):[],pagination:!0,expandableRows:!0,expandableRowsComponent:e=>{let{data:s}=e,l=e=>{T(s=>({...s,[e]:!s[e]}))};return(0,a.jsx)("ul",{className:"positionDetails",children:s.entries.map((e,t)=>{var n,i,o,r,d,c,u,m,h,p,x,j,b,f,w,T,F,L,E,q,P;let R=C[e.main.id],Q=e.main.lastCustomValue?e.main.lastCustomValue:(e.main.ask+e.main.bid)/2,H=e.main.mrk_value,G=e.main.total_gain_loss,W=G&&(null===(n=e.main)||void 0===n?void 0:n.cost_basis)?G/(null===(i=e.main)||void 0===i?void 0:i.cost_basis)*100:0,$=e.main.roi?(0,S._)((0,D.Q0)(e.main.roi)):0,U=null,V=null;return V=(0,D.AN)(null===(o=e.main)||void 0===o?void 0:null===(r=o.calendars)||void 0===r?void 0:r.results),Array.isArray(null==e?void 0:null===(d=e.main)||void 0===d?void 0:d.results)&&(null==e||null===(q=e.main)||void 0===q||null===(P=q.results)||void 0===P||P.forEach(e=>{var s,l,a;(null==e?void 0:null===(s=e.tables)||void 0===s?void 0:s.cash_dividends)&&(null==e||null===(l=e.tables)||void 0===l||null===(a=l.cash_dividends)||void 0===a||a.forEach(e=>{let s=null==e?void 0:e.ex_date;s>U?U=s:null===U&&(U=s)}))})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("li",{className:"positionsItem",children:[(null==e?void 0:null===(c=e.others)||void 0===c?void 0:c.length)>0?(0,a.jsx)("span",{onClick:()=>l(e.main.id),"aria-controls":"example-collapse-text".concat(e.main.id),"aria-expanded":R,className:"icon-arrow inner-arrow"}):"",(0,a.jsxs)("span",{className:"positionsItem__des",children:[e.main.symbol," ",e.main.description?"(".concat(e.main.description,")"):""]}),(0,a.jsx)("span",{className:"positionsItem__ul_price",children:(0,D._T)(Number(Q))}),(0,a.jsx)("span",{className:"positionsItem__qty",children:e.main.mainDisplayQuantity}),(null==M?void 0:M.includes("days_left"))?(0,a.jsx)("span",{className:"positionsItem__days_left",style:{paddingLeft:"0rem",minWidth:"6.5rem",maxWidth:"6.5rem"}}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("mkt_value"))?(0,a.jsx)("span",{className:"positionsItem__mkt_value",style:{paddingLeft:"0rem",minWidth:"11rem",maxWidth:"11rem"},children:(0,D._T)(H)}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("cost_basis"))?(0,a.jsxs)("span",{className:"positionsItem__cost",style:{paddingLeft:"0rem",minWidth:"10rem",maxWidth:"10rem"},children:[(0,D._T)(null===(u=e.main)||void 0===u?void 0:u.cost_basis),(0,a.jsx)("br",{}),(0,D._T)(e.main.secCost_basis)]}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("today_gain_loss"))?(0,a.jsx)("span",{className:"positionsItem__today_gain_loss",children:(0,a.jsxs)("span",{className:(null==e?void 0:null===(m=e.main)||void 0===m?void 0:m.change)<=0&&(null==e?void 0:null===(h=e.main)||void 0===h?void 0:h.change)?"text-danger":"text-success",children:[(null==e?void 0:null===(p=e.main)||void 0===p?void 0:p.change)?(0,D._T)(null==e?void 0:null===(x=e.main)||void 0===x?void 0:x.change):0," ",(0,a.jsx)("br",{}),(null==e?void 0:null===(j=e.main)||void 0===j?void 0:j.change_percentage)?(0,a.jsxs)(a.Fragment,{children:[(0,S._)((0,D.Q0)(null==e?void 0:null===(b=e.main)||void 0===b?void 0:b.change_percentage))," % "]}):""," "]})}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("total_gain_loss"))?(0,a.jsx)("span",{className:"positionsItem__total_gain_loss",children:(0,a.jsxs)("span",{className:G<=0&&G?"text-danger":"text-success",children:[G?(0,D._T)(G):0," ",(0,a.jsx)("br",{}),(0,D.Q0)((0,D.yq)(W,G))," %"]})}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("roi"))?(0,a.jsxs)("span",{className:"positionsItem__roi",children:[$," %"]}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("exit_value"))?(0,a.jsx)("span",{className:"positionsItem__exit_value",children:(0,D._T)(null==e?void 0:null===(f=e.main)||void 0===f?void 0:f.exitValue)}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("position_delta"))?(0,a.jsxs)("span",{className:"positionsItem__position_delta",children:[(null==e?void 0:null===(w=e.main)||void 0===w?void 0:w.delta)?(0,S._)((0,D.Q0)(null==e?void 0:null===(T=e.main)||void 0===T?void 0:T.delta)):e.main.quantity," Δ"]}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("theta"))?(0,a.jsx)("span",{className:"positionsItem__theta",children:(null==e?void 0:null===(F=e.main)||void 0===F?void 0:F.theta)?(0,D._T)(null==e?void 0:null===(L=e.main)||void 0===L?void 0:L.theta):"-"}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("div_date"))?(0,a.jsx)("span",{className:"positionsItem__div_date",children:null!=U?(0,y.Bi)(U):"-"}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("earnings_date"))?(0,a.jsx)("span",{className:"positionsItem__earnings_date",children:null!=V?(0,y.Bi)(V):"-"}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("span",{className:"positionsItem__action",style:{minWidth:"14rem",maxWidth:"14rem"},children:(0,a.jsxs)("div",{className:"action_btns",children:[e.main.type!==Z.kJ.Stock?(0,a.jsx)(Y,{title:"Roll over",id:"t-1",children:(0,a.jsx)("span",{className:"icon-exchange",onClick:()=>{var s,l;let a=[],t=null===(s=e.others)||void 0===s?void 0:s.filter(e=>2!==e.type||(a.push(e),!1));O(t),g((0,y.Bi)(null==t?void 0:null===(l=t[0])||void 0===l?void 0:l.expiration_date)),A(a),_("roll_over"),k(e.main.symbol)}})}):"",e.main.type!==Z.kJ.Stock?(0,a.jsx)(Y,{title:"Analyze",id:"t-2",children:(0,a.jsx)("span",{onClick:()=>ee(e),className:"icon-area_chart"})}):"",(0,a.jsx)(Y,{title:"Add to existing",id:"t-3",children:(0,a.jsx)("span",{className:"icon-library_add",onClick:()=>{if(k(e.main.symbol),e.main.type===Z.kJ.Stock)B("buy"),v({...e.main,type:"market"});else{var s;let l=[],a=null===(s=e.others)||void 0===s?void 0:s.filter(e=>2!==e.type||(l.push(e),!1));O(a),A(l),_("add_to_existing")}}})}),(0,a.jsx)(Y,{title:"Close",id:"t-4",children:(0,a.jsx)("span",{className:"icon-do_not_disturb_on",onClick:()=>{if(k(e.main.symbol),e.main.type===Z.kJ.Stock)B("sell"),v({...e.main,type:"market"});else{var s;let l=[],a=null===(s=e.others)||void 0===s?void 0:s.filter(e=>2!==e.type||(l.push(e),!1));O(a),A(l),_("close")}}})})]})})]},t+Math.random()),(0,a.jsx)(I.Z,{in:R,children:(0,a.jsx)("ul",{className:"positionDetails",id:"example-collapse-text".concat(e.main.id),children:null==e?void 0:null===(E=e.others)||void 0===E?void 0:E.map(e=>{if(e.symbol){var l,t,n,i,o,r,d,c,u,m,h,p,x;let j=new Date(e.expiration_date),b=new Date,y=j.getTime()-b.getTime(),f=Math.ceil(y/864e5),w=(e.ask+e.bid)/2;w=isNaN(w)?0:w;let C=null==e?void 0:e.mark_value,T=e.exitValue,I=null==e?void 0:e.total_gain_loss,F=I&&(null==e?void 0:e.cost_basis)?I/(null==e?void 0:e.cost_basis)*100:0,L=0;return L=2===e.type?e.quantity:(null==e?void 0:null===(p=e.greeks)||void 0===p?void 0:p.delta)?(null==e?void 0:null===(x=e.greeks)||void 0===x?void 0:x.delta)*100*(e.quantity<0?-1:1):0,(0,a.jsxs)("li",{className:"positionsItem",children:[(0,a.jsxs)("span",{style:{display:"flex",alignItems:"center"},className:"positionsItem__des",children:[e.description,(null===(l=e.expiration_date)||void 0===l?void 0:l.includes(b))&&(0,a.jsx)(N(),{src:"../assets/images/cross.svg",alt:"login",width:15,height:15}),(null==e?void 0:null===(t=e.description)||void 0===t?void 0:null===(n=t.toLowerCase)||void 0===n?void 0:null===(i=n.call(t))||void 0===i?void 0:null===(o=i.includes)||void 0===o?void 0:o.call(i,"call"))?(0,a.jsx)(a.Fragment,{children:parseFloat(e.strike)<=((null==s?void 0:s.ask)+(null==s?void 0:s.bid))/2&&(0,a.jsx)(N(),{src:"../assets/images/dollar.svg",alt:"login",width:15,height:15})}):(0,a.jsx)(a.Fragment,{children:(null==e?void 0:null===(r=e.description)||void 0===r?void 0:null===(d=r.toLowerCase)||void 0===d?void 0:null===(c=d.call(r))||void 0===c?void 0:null===(u=c.includes)||void 0===u?void 0:u.call(c,"put"))&&(0,a.jsx)(a.Fragment,{children:parseFloat(e.strike)>=((null==s?void 0:s.ask)+(null==s?void 0:s.bid))/2&&(0,a.jsx)(N(),{src:"../assets/images/dollar.svg",alt:"login",width:15,height:15})})})]}),(0,a.jsx)("span",{className:"positionsItem__ul_price",children:(0,D._T)(w)}),(0,a.jsx)("span",{className:"positionsItem__qty",children:Math.trunc(e.quantity)}),(null==M?void 0:M.includes("days_left"))?(0,a.jsx)("span",{className:"positionsItem__days_left",style:{paddingLeft:"0rem",minWidth:"6.5rem",maxWidth:"6.5rem"},children:isNaN(f)?"":f}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("mkt_value"))?(0,a.jsx)("span",{className:"positionsItem__mkt_value",style:{paddingLeft:"0rem",minWidth:"11rem",maxWidth:"11rem"},children:(0,D._T)(C)}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("cost_basis"))?(0,a.jsxs)("span",{className:"positionsItem__cost",style:{paddingLeft:"0rem",minWidth:"10rem",maxWidth:"10rem"},children:[(0,D._T)(null==e?void 0:e.cost_basis),(0,a.jsx)("br",{}),(0,D._T)(e.secCost_basis)," "]}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("today_gain_loss"))?(0,a.jsx)("span",{className:"positionsItem__today_gain_loss",children:(0,a.jsxs)("span",{className:e.change_percentage<=0&&e.change_percentage?"text-danger":"text-success",children:[(null==e?void 0:e.change)?(0,D._T)(null==e?void 0:e.change):0,(0,a.jsx)("br",{}),(null==e?void 0:e.change_percentage)?(0,S._)((0,D.Q0)(null==e?void 0:e.change_percentage)):0," ","%"]})}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("total_gain_loss"))?(0,a.jsx)("span",{className:"positionsItem__total_gain_loss",children:(0,a.jsxs)("span",{className:I<=0&&I?"text-danger":"text-success",children:[I?(0,D._T)(I):"0.0"," ",(0,a.jsx)("br",{}),(0,D.Q0)((0,D.yq)(F,I))," %"]})}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("roi"))?(0,a.jsxs)("span",{className:"positionsItem__roi",children:[(0,D.Q0)((0,D.yq)(null==e?void 0:e.roi,I)),"%"]}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("exit_value"))?(0,a.jsxs)("span",{className:"positionsItem__exit_value",children:[" ",e.type!==Z.kJ.Stock?(0,a.jsxs)(a.Fragment,{children:[" $ ",(0,S._)((0,D.Q0)(T))]}):""]}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("position_delta"))?(0,a.jsxs)("span",{className:"positionsItem__position_delta",children:[(0,D.Q0)(L),"Δ"]}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("theta"))?(0,a.jsx)("span",{className:"positionsItem__theta",children:(null==e?void 0:null===(m=e.greeks)||void 0===m?void 0:m.theta)?(0,D._T)((null==e?void 0:null===(h=e.greeks)||void 0===h?void 0:h.theta)*100):""}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("div_date"))?(0,a.jsx)("span",{className:"positionsItem__div_date",children:"-"}):(0,a.jsx)(a.Fragment,{}),(null==M?void 0:M.includes("earnings_date"))?(0,a.jsx)("span",{className:"positionsItem__earnings_date",children:"-"}):(0,a.jsx)(a.Fragment,{}),(0,a.jsxs)("span",{className:"positionsItem__action",style:{minWidth:"14rem",maxWidth:"14rem"},children:[2!==e.type?(0,a.jsx)(Y,{title:"Roll over",id:"t-1",children:(0,a.jsx)("span",{className:"icon-exchange",onClick:()=>{O([e]),_("roll_over"),g(e.shortDescription),k(e.ticker)}})}):"",e.type!==Z.kJ.Stock&&(0,a.jsx)(Y,{title:"Analyze",id:"t-2",children:(0,a.jsx)("span",{className:"icon-area_chart",onClick:()=>{k(e.ticker),ee(e,!0)}})}),(0,a.jsx)(Y,{title:"Add to existing",id:"t-3",children:(0,a.jsx)("span",{className:"icon-library_add",onClick:()=>{k(e.ticker),e.type===Z.kJ.Stock?(B("buy"),v({...e,type:"market"})):(O([e]),_("add_to_existing"))}})}),(0,a.jsx)(Y,{title:"Close",id:"t-4",children:(0,a.jsx)("span",{className:"icon-do_not_disturb_on",onClick:()=>{k(e.ticker),e.type===Z.kJ.Stock?(B("sell"),v({...e,type:"market"})):(O([e]),_("close"))}})})]})]},e.symbol+Math.random())}})})})]})})})},expandOnRowClicked:!1,onRowExpandToggled:ev,expandableRowExpanded:e=>!!U[e.symbol],fixedHeader:!0}),(0,a.jsx)(z.default,{show:d,handleClose:()=>c(!1),handleShow:()=>c(!0),modalTitle:"Roll Over",className:"p-0",submit:"Submit",children:(0,a.jsx)(X,{})}),(0,a.jsx)(z.default,{show:P,handleClose:()=>R(!1),handleShow:()=>R(!0),className:"text-center ClosePopup",modalTitle:"",submit:"Submit",size:"sm",children:(0,a.jsx)(es,{modalTitle:"Close position",modalDesc:"Do you want to close this position?",gainLoss:"+$30.51",change:"19.9%"})}),(0,a.jsxs)(F.Z,{show:p,onHide:K,placement:"end",children:[(0,a.jsx)(F.Z.Header,{closeButton:!0,children:(0,a.jsxs)(F.Z.Title,{children:[t("stockPage.Buy/Sell Stock")," - ",'"'.concat(f,'"')]})}),(0,a.jsx)(ei.Z,{handleClose:K,tradeDataMap:[{...p,isDashboard:!0}],selectedStockOrder:Q})]}),(0,a.jsxs)(F.Z,{className:E().buyStrategiesPopup,show:L,onHide:K,placement:"bottom",children:[(0,a.jsx)(F.Z.Header,{closeButton:!0,children:(0,a.jsxs)(F.Z.Title,{children:["close"===x?'Close Strategy - "'.concat(f,'"'):"add_to_existing"===x?'Add Existing - "'.concat(f,'"'):""!==j?"Roll Over from ".concat(j,' - "').concat(f,'"'):"Roll Over"," "]})}),(0,a.jsx)(eo.Z,{handleClose:K,actionType:x,tradeDataMap:q,optionDashboardRows:L,pageTitle:"dashboard",showUnderlyingSec:(null==q?void 0:q.length)>0&&"roll_over"!==x})]})]})},eh=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(J.Z,{className:"row",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)(J.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,a.jsx)(J.Z.Label,{children:"Side"}),(0,a.jsxs)(J.Z.Select,{"aria-label":"Default select example",children:[(0,a.jsx)("option",{children:"Sell"}),(0,a.jsx)("option",{value:"1",children:"One"}),(0,a.jsx)("option",{value:"2",children:"Two"}),(0,a.jsx)("option",{value:"3",children:"Three"})]})]})}),(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)(J.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[(0,a.jsx)(J.Z.Label,{children:"Type"}),(0,a.jsxs)(J.Z.Select,{"aria-label":"Default select example",children:[(0,a.jsx)("option",{children:"Stop"}),(0,a.jsx)("option",{value:"1",children:"One"}),(0,a.jsx)("option",{value:"2",children:"Two"}),(0,a.jsx)("option",{value:"3",children:"Three"})]})]})}),(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)(J.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,a.jsx)(J.Z.Label,{children:"Quantity"}),(0,a.jsx)(J.Z.Control,{type:"number",placeholder:"Qty"})]})}),(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)(J.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,a.jsx)(J.Z.Label,{children:"Price"}),(0,a.jsx)(J.Z.Control,{type:"number",placeholder:"Price"})]})}),(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)(J.Z.Group,{className:"mb",controlId:"exampleForm.ControlInput1",children:[(0,a.jsx)(J.Z.Label,{children:"Duration"}),(0,a.jsx)(J.Z.Control,{type:"number",placeholder:"Enter Here"})]})})]})}),ep=l(77672);let ev=ea()(()=>l.e(992).then(l.bind(l,43992)),{loadableGenerated:{webpack:()=>[43992]},ssr:!1});var ex=e=>{var s;let l=null==e?void 0:e.orders,[t,n]=(0,m.useState)(!1),[i,o]=(0,m.useState)(!1),[r,d]=(0,m.useState)([]),[c,v]=(0,m.useState)(!1),[x,_]=(0,m.useState)(!1),[b,y]=(0,m.useState)(!1),[f,N]=(0,m.useState)([]),[k,S]=(0,m.useState)("buy"),[T,I]=(0,m.useState)([]),[L,O]=(0,m.useState)([]),[q,A]=(0,m.useState)(0),P=(0,h.T)(),R=(0,h.C)(w.UK),{t:Q,i18n:B}=(0,u.$G)(),M=e=>{let{id:s,children:l,title:t}=e;return(0,a.jsx)(H,{overlay:(0,a.jsx)(V,{id:s,children:t}),children:l})},G=()=>{y(!1),_(!1),A(0)},W=new C.Howl({src:["../assets/sound/success.mp3"],volume:1}),$=new C.Howl({src:["../assets/sound/error.mp3"],volume:1}),U=e=>{if(null==e?void 0:e.option_symbol){let s=R.find(s=>s.symbol===e.option_symbol);I([{...s,...e,symbol:null==e?void 0:e.option_symbol,ticker:e.symbol}])}else if(e.leg&&e.leg.length>0){let s=[];e.leg.map(l=>{let a=R.find(e=>e.symbol===l.option_symbol);(null==l?void 0:l.class)==="equity"?O([{...a,...l,symbol:null==l?void 0:l.option_symbol,ticker:e.symbol}]):s.push({...a,...l,symbol:null==l?void 0:l.option_symbol,ticker:e.symbol})}),I(s)}else I([{...e,ticker:e.symbol}])},J=[{name:Q("Dashboard.Symbol"),cell:e=>(0,a.jsxs)(a.Fragment,{children:[e.symbol,(0,a.jsx)("br",{}),"(",e.description,")"]}),sortable:!1,width:"20rem"},{name:Q("Dashboard.Side"),selector:e=>(0,D.__)(""),sortable:!1,width:"10rem"},{name:Q("Dashboard.Quantity"),sortable:!1,selector:e=>Math.trunc(e.quantity),width:"10rem"},{name:Q("Dashboard.Type"),cell:e=>(0,a.jsxs)("span",{className:"text-capitalize",children:[e.type,(0,a.jsx)("br",{}),e.price?" @ $".concat(e.price):""," "]}),sortable:!0,width:"10rem"},{name:Q("Dashboard.Duration"),sortable:!1,selector:e=>(0,a.jsx)("span",{className:"text-capitalize",children:e.duration}),width:"10rem"},{name:Q("Dashboard.Filled/ Qty"),sortable:!1,cell:e=>"filled"===e.status?(0,a.jsxs)(a.Fragment,{children:[e.exec_quantity," / ",e.quantity,(0,a.jsx)("br",{}),e.avg_fill_price?(0,a.jsxs)(a.Fragment,{children:["at ",(0,D._T)(e.avg_fill_price)]}):""]}):"0 / ".concat(e.quantity),width:"10rem"},{name:Q("Dashboard.Created Date"),sortable:!0,cell:e=>Y(e.create_date),width:"12rem"},{name:Q("Dashboard.Status"),sortable:!0,width:"12rem",cell:e=>(0,a.jsxs)("span",{className:"".concat(e.status," text-capitalize status-badges"),children:["filled"===e.status||"partially_filled"===e.status?(0,a.jsx)("span",{className:"icon-done"}):"","pending"===e.status||"open"===e.status?(0,a.jsx)("span",{className:"icon-info"}):"","rejected"===e.status||"error"===e.status||"expired"===e.status||"canceled"===e.status?(0,a.jsx)("span",{className:"icon-close"}):"",e.status]})},{name:Q("Dashboard.Action"),sortable:!1,width:"15rem",cell:e=>(0,a.jsxs)("div",{className:"action_btns",children:[["open","pending"].includes(e.status)&&(0,a.jsx)(M,{title:"Edit",id:"t-1",children:(0,a.jsx)("span",{className:"icon-stylus",onClick:()=>{"equity"===e.class?(y(e),S("edit")):(_(!0),U(e),A(e.id))}})}),(0,a.jsx)(M,{title:"Re Trade",id:"t-2",children:(0,a.jsx)("span",{className:"icon-amend",onClick:()=>{"equity"===e.class?(y(e),S("buy")):(_(!0),U(e))}})}),["open","pending"].includes(e.status)&&(0,a.jsx)(M,{title:"Cancel",id:"t-3",children:(0,a.jsx)("span",{className:"icon-cancel",onClick:()=>o(e.id)})})]})}],K=[];(0,m.useEffect)(()=>{if(null==l&&(l=[]),l){var e;Array.isArray(l)||(l=[l]),null==l||null===(e=l.forEach)||void 0===e||e.call(l,e=>{e.leg&&e.leg.length>0?e.leg.map(e=>{K.push(e.option_symbol)}):K.push((null==e?void 0:e.option_symbol)||e.symbol)}),K.length&&P((0,w.fr)(K))}},[l,P]),(0,m.useEffect)(()=>{if(R&&l){let s=[];if(Array.isArray(l)){var e;let a=null==l?void 0:null===(e=l.map)||void 0===e?void 0:e.call(l,e=>{let s=R.find(s=>s.symbol===e.symbol);if(s){let l={...e};for(let e in s)e in l||(l[e]=s[e]);return l}return e}),t=a.sort((e,s)=>{let l=new Date(e.transaction_date).getTime(),a=new Date(s.transaction_date).getTime();return l-a});s=[...t]}else{let e={...l,...R.find(e=>e.symbol===l.symbol)};s=[e]}let a=null==s?void 0:s.map(e=>e.leg?e:{...e,leg:[e]});N(a)}},[R,l]);let Y=e=>{let s=new Date(e),l=s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),a=s.toLocaleDateString("en-US",{month:"short",day:"numeric"});return"".concat(l," (").concat(a,")")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h3",{children:[Q("Dashboard.Orders")," (",null==f?void 0:f.length,")"," "]}),(0,a.jsx)(ev,{data:f?f.slice().sort((e,s)=>{let l=new Date(e.create_date),a=new Date(s.create_date);return a.getTime()-l.getTime()}):[],columns:J,pagination:!0,responsive:!0,className:"DataTable OrderTable",expandableRows:!0,expandableRowsComponent:e=>{let{data:s}=e;return(0,a.jsx)("ul",{className:"ordersDetails",children:s.leg.map((e,s)=>{let l=(0,D.rR)(e.option_symbol),t=l.expiration,n=t.toLocaleString("en-US",{month:"short"}),i=t.getDate(),o=t.getFullYear(),r="".concat(n," ").concat(i," ").concat(o);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("li",{className:"ordersItem",children:[(0,a.jsxs)("span",{className:"ordersItem__des",children:[null==e?void 0:e.symbol," ",r," $",null==l?void 0:l.strike," ",(0,Z.YQ)(null==l?void 0:l.type)]}),(0,a.jsx)("span",{className:"ordersItem__side",children:(0,D.__)(null==e?void 0:e.side)}),(0,a.jsx)("span",{className:"ordersItem__quantity",children:e.quantity}),(0,a.jsx)("span",{className:"ordersItem__type text-capitalize",children:null==e?void 0:e.type}),(0,a.jsx)("span",{className:"ordersItem__duration text-capitalize",children:null==e?void 0:e.duration}),(0,a.jsxs)("span",{className:"ordersItem__filled",children:["filled"===e.status?(0,a.jsxs)(a.Fragment,{children:[e.exec_quantity," / ",e.quantity,(0,a.jsx)("br",{}),e.avg_fill_price?(0,a.jsxs)(a.Fragment,{children:["at ",(0,D._T)(e.avg_fill_price)]}):""]}):(0,a.jsxs)(a.Fragment,{children:["0 / ",e.quantity]})," "]}),(0,a.jsx)("span",{className:"ordersItem__createdDate"}),(0,a.jsx)("span",{className:"ordersItem__status",children:(0,a.jsxs)("span",{className:" ".concat(e.status," text-capitalize status-badges"),children:["filled"===e.status||"partially_filled"===e.status?(0,a.jsx)("span",{className:"icon-done"}):"","pending"===e.status||"open"===e.status?(0,a.jsx)("span",{className:"icon-info"}):"","rejected"===e.status||"error"===e.status||"expired"===e.status||"canceled"===e.status?(0,a.jsx)("span",{className:"icon-close"}):"",null==e?void 0:e.status]})}),(0,a.jsx)("span",{className:"ordersItem__action"})]},s+Math.random())})})})},expandableRowDisabled:e=>"equity"===e.class}),(0,a.jsx)(z.default,{show:t,handleClose:()=>n(!1),handleShow:()=>n(!0),modalTitle:"Edit Order",submit:"Submit Order",children:(0,a.jsx)(eh,{})}),(0,a.jsx)(z.default,{show:i,handleClose:()=>o(!1),handleSubmit:()=>{P((0,p.wH)({orderId:i,accountId:e.selectedAccount})).then(e=>{e.error?(d(["Error",e.error.message]),v(!0),$.play()):(d(["Success","Order canceled successfully"]),v(!0),W.play()),o(!1)})},className:"text-center ClosePopup",modalTitle:"",submit:"Submit",size:"sm",children:(0,a.jsx)(es,{modalTitle:"",modalDesc:"Are you sure, you want to cancel this order?"})}),(0,a.jsx)(j.Z,{children:(0,a.jsxs)(g.Z,{bg:"Error"===r[0]?"danger":"success",show:c,onClose:()=>v(!1),delay:2e3,children:[(0,a.jsx)(g.Z.Header,{}),(0,a.jsx)(g.Z.Body,{children:(0,a.jsxs)("div",{className:"info",children:[(0,a.jsx)("div",{className:"icon",children:(0,a.jsx)("span",{className:"icon-close"})}),(0,a.jsxs)("div",{className:"infoDetails",children:[(0,a.jsx)("strong",{children:null==r?void 0:r[0]}),(0,a.jsx)("p",{children:null==r?void 0:r[1]})]})]})})]})}),(0,a.jsxs)(F.Z,{show:b,onHide:G,placement:"end",children:[(0,a.jsx)(F.Z.Header,{closeButton:!0,children:(0,a.jsxs)(F.Z.Title,{children:[Q("stockPage.Buy/Sell Stock")," - ",'"'.concat(null==b?void 0:b.symbol,'"')]})}),(0,a.jsx)(ei.Z,{handleClose:G,handleSubmit:e=>{P((0,ep.hy)(e)).then(e=>{y(!1),A(0),e.error?(d(["Error",e.error.message]),v(!0),$.play()):(d(["Success","Order edited successfully"]),v(!0),W.play()),o(!1)})},tradeDataMap:[b],selectedStockOrder:k})]}),(0,a.jsxs)(F.Z,{className:E().buyStrategiesPopup,show:x,onHide:G,placement:"bottom",children:[(0,a.jsx)(F.Z.Header,{closeButton:!0,children:(0,a.jsxs)(F.Z.Title,{children:["Buy Strategies - ",'"'.concat(null===(s=T[0])||void 0===s?void 0:s.root_symbol,'"')]})}),(0,a.jsx)(eo.Z,{handleClose:G,actionType:"editOrder",tradeDataMap:L,optionDashboardRows:T,pageTitle:"dashboard",editOrderId:q,showUnderlyingSec:(null==L?void 0:L.length)>0})]})]})},e_=l(10408),ej=l.n(e_),eg=l(95853),eb=l.n(eg),ey=l(9321),ef=l(42484),eN=l(26085);let ew={chart:{animation:!1,height:80,width:130,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"line",backgroundColor:"transparent"},title:{text:""},annotations:{xaxis:[{borderColor:"transparent"}]},xAxis:{labels:{enabled:!1},lineColor:"transparent",tickLength:0,categories:[]},yAxis:{visible:!1,gridLineColor:"transparent"},plotOptions:{series:{marker:{enabled:!1}}},tooltip:!1,legend:!1};var ek=e=>{let{lastRefresh:s}=e,l=(0,h.T)(),t=(0,h.C)(w.UK),n=(0,h.C)(eN.pP),i=(0,b.useRouter)(),o=["SPY","QQQ","DIA","IWM","GLD","SLV","TLT"];(0,m.useEffect)(()=>{l((0,w.fr)(o)),o.map(e=>{l((0,eN.LV)(e))})},[l,s]);let r=t.filter(e=>o.includes(e.symbol)),d=((e,s)=>{let l=new Set;return e.filter(e=>!l.has(e[s])&&(l.add(e[s]),!0))})(r,"symbol"),c=d.length?o.map(e=>d.find(s=>e===s.symbol)):[],u=["portfolio"],p=["portfolio"];u.push("up"),p.push("down");let v=e=>{let s=e.split("(")[0].trim();i.push("/trade?q=".concat(s,"&start=").concat(y.M1,"&end=").concat(y.vQ))};return(0,a.jsx)(ey.tq,{spaceBetween:15,breakpoints:{400:{slidesPerView:1,spaceBetween:15},600:{slidesPerView:2,spaceBetween:15},900:{slidesPerView:3,spaceBetween:15}},className:"portfolioList",navigation:!0,modules:[ef.W_],children:c.map(e=>{var s,l,t,i,o,r,d;let c,m;m=n.length>0&&Array.isArray(null==(c=null==n?void 0:n.find(s=>(null==s?void 0:s.symbol)===(null==e?void 0:e.symbol)))?void 0:null===(l=c.data)||void 0===l?void 0:null===(t=l.series)||void 0===t?void 0:t.data)?null==c?void 0:null===(i=c.data)||void 0===i?void 0:null===(o=i.series)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:null===(d=r.map)||void 0===d?void 0:d.call(r,e=>[e.timestamp,e.price]):[0,0];let h={series:{name:"Line",type:"line",data:m,color:(null==e?void 0:e.change_percentage)>=0?"#38ad4b":"#d94041",negativeColor:(null==e?void 0:e.change_percentage)>=0?"#38ad4b":"#d94041"}};return(0,a.jsxs)(ey.o5,{className:(null==e?void 0:e.change_percentage)>=0?null==u?void 0:u.join(" "):null==p?void 0:p.join(" "),children:[(0,a.jsxs)("div",{className:"portfolioContent",onClick:()=>{v(null==e?void 0:e.symbol)},children:[(0,a.jsxs)("div",{className:"info",children:[(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)(N(),{width:25,height:25,src:(null==e?void 0:e.symbol)?"https://storage.googleapis.com/iexcloud-hl37opg/api/logos/".concat(null==e?void 0:e.symbol,".png"):"../assets/images/apple.svg",alt:null==e?void 0:e.symbol})}),(0,a.jsxs)("div",{className:"details",children:[(0,a.jsx)("strong",{children:null==e?void 0:e.symbol}),(0,a.jsxs)("span",{children:["(",null==e?void 0:e.description,")"]})]})]}),(0,a.jsxs)("div",{className:"price",children:[(0,a.jsxs)("strong",{children:["$ ",(0,S._)((null==e?void 0:null===(s=e.last)||void 0===s?void 0:s.toFixed(2))||0)]}),(0,a.jsxs)("span",{className:(null==e?void 0:e.change_percentage)>=0?"up":"down",children:[(0,D.Q0)(null==e?void 0:e.change_percentage)||0,"%"]})]})]}),(0,a.jsx)("div",{className:"chart",children:(null==e?void 0:e.prevclose)&&((null==e?void 0:e.close)||(null==e?void 0:e.last))&&(0,a.jsx)(eb(),{highcharts:ej(),options:{...ew,...h}})})]},null==e?void 0:e.symbol)})})},eC=()=>{var e,s,l,d,j,g,y,f,N,w,k,C,Z,I,F,L,E,O;let{t:q,i18n:A}=(0,u.$G)(),P=(0,h.T)(),R=(0,h.C)(p.QN),Q=(0,h.C)(p.Zl),B=(0,h.C)(v.mm),H=(0,h.C)(v.jm),M=(0,h.C)(_.iS),G=(0,h.C)(_.gQ),W=(0,h.C)(x.Hp),[$,U]=(0,m.useState)(new Date);(0,b.useRouter)(),(0,m.useEffect)(()=>{let e=setInterval(V,5e3);return()=>{clearInterval(e)}},[]),(0,m.useEffect)(()=>{P((0,x.Ou)())},[$]),(0,m.useEffect)(()=>{let e=M.selectedAccountId;e&&(P((0,p.z6)(e)),P((0,v.j)(e)))},[M.selectedAccountId,$,G,Q,H]);let V=()=>{let e=new Date;U(e)};return(0,a.jsx)(t.Z,{className:c().Dashboard,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.Z.Header,{className:c().Dashboard__header,children:[(0,a.jsxs)("div",{className:c().leftheader,children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.Z,{children:M.selectedAccountId})}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsxs)("label",{children:[q("Dashboard.Total Value")," "]}),(0,a.jsxs)("strong",{children:["$ ",(0,S._)((null==M?void 0:null===(e=M.balances)||void 0===e?void 0:null===(s=e.total_equity)||void 0===s?void 0:s.toFixed(2))||0)]})]}),(0,a.jsxs)("li",{children:[(0,a.jsxs)("label",{children:[(null==M?void 0:null===(l=M.balances)||void 0===l?void 0:l.account_type)==="cash"?"Funds available":q("Dashboard.Open B.P")," "]}),(0,a.jsxs)("strong",{children:["$"," ",(0,S._)((0,D.Q0)((null==M?void 0:null===(d=M.balances)||void 0===d?void 0:d.account_type)==="cash"?null==M?void 0:null===(j=M.balances)||void 0===j?void 0:null===(g=j.cash)||void 0===g?void 0:g.cash_available:null==M?void 0:null===(y=M.balances)||void 0===y?void 0:null===(N=y[null==M?void 0:null===(f=M.balances)||void 0===f?void 0:f.account_type])||void 0===N?void 0:N.option_buying_power)||0)]})]}),(0,a.jsxs)("li",{children:[(0,a.jsxs)("label",{children:[(null==M?void 0:null===(w=M.balances)||void 0===w?void 0:w.account_type)==="cash"?"Settled funds":q("Dashboard.Stock BP")," "]}),(0,a.jsxs)("strong",{children:["$"," ",(0,S._)((0,D.Q0)((null==M?void 0:null===(k=M.balances)||void 0===k?void 0:k.account_type)==="cash"?(null==M?void 0:null===(C=M.balances)||void 0===C?void 0:null===(Z=C.cash)||void 0===Z?void 0:Z.cash_available)-(null==M?void 0:null===(I=M.balances)||void 0===I?void 0:null===(F=I.cash)||void 0===F?void 0:F.unsettled_funds):null==M?void 0:null===(L=M.balances)||void 0===L?void 0:null===(O=L[null==M?void 0:null===(E=M.balances)||void 0===E?void 0:E.account_type])||void 0===O?void 0:O.stock_buying_power)||0)]})]})]}),(0,a.jsx)("a",{target:"_blank",href:"http://dash.tradier.com/funding",children:(0,a.jsxs)(n.Z,{variant:"outline-primary",children:[(0,a.jsx)("span",{className:"icon-sell"}),"Fund"]})})]}),(0,a.jsx)("div",{className:c().lastSync,children:$?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{children:"Last Updated"}),(0,a.jsx)("strong",{children:(e=>{let s=new Date,l=s.getTime()-e.getTime();return Math.floor(l/864e5)>1?e.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):e.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})})($).toLocaleString()}),(0,a.jsx)(n.Z,{variant:"outline-primary",onClick:V,children:(0,a.jsx)("span",{className:"icon-refresh"})})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.Z,{variant:"outline-primary",onClick:V,children:(0,a.jsx)("span",{className:"icon-refresh"})})})})]}),(0,a.jsx)(t.Z.Body,{className:c().Dashboard__body,children:(0,a.jsx)(i.Z,{fluid:!0,children:(0,a.jsxs)(o.Z,{className:"justify-content-md-center",children:[(0,a.jsxs)(r.Z,{lg:"9",sm:"12",children:[(0,a.jsx)("h3",{children:q("Dashboard.Portfolio performance")}),(0,a.jsx)(ek,{lastRefresh:$}),(0,a.jsx)(ex,{positions:null==B?void 0:B.position,selectedAccount:null==M?void 0:M.selectedAccountId,orders:null==R?void 0:R.order}),(0,a.jsx)(em,{positions:null==B?void 0:B.position,lastRefresh:$})]}),(0,a.jsx)(r.Z,{lg:"3",sm:"12",className:"watchlistMain",children:(0,a.jsx)(T,{watchlist:W,lastRefresh:$})})]})})})]})})}},42698:function(e,s,l){"use strict";l.r(s);var a=l(9268);l(86006);var t=l(24161),n=l(99362);s.default=e=>{let{show:s,handleClose:l,handleSubmit:i,size:o,modalTitle:r,className:d,submit:c}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(t.Z,{show:s,onHide:l,centered:!0,size:o,"aria-labelledby":"contained-modal-title-vcenter",children:[""==r?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(t.Z.Header,{closeButton:!0,children:(0,a.jsx)(t.Z.Title,{children:r})})}),(0,a.jsx)(t.Z.Body,{className:d,children:e.children}),(0,a.jsxs)(t.Z.Footer,{children:[(0,a.jsxs)(n.Z,{variant:"outline-primary",onClick:l,children:[(0,a.jsx)("span",{className:"icon-close"})," Cancel"]}),(0,a.jsxs)(n.Z,{variant:"primary",onClick:i,children:[(0,a.jsx)("span",{className:"icon-done"})," ",c]})]})]})})}},27669:function(e){e.exports={Dashboard__header:"dashboard_Dashboard__header__ZZ7hr",leftheader:"dashboard_leftheader__uEnJ0",lastSync:"dashboard_lastSync__JO1vc",Dashboard__body:"dashboard_Dashboard__body__OMFxG",wishlist:"dashboard_wishlist__PjT3C",wishlist__item:"dashboard_wishlist__item__2OEOR",logo:"dashboard_logo__SEu39",info:"dashboard_info__Hc0_b",price:"dashboard_price__83z_j",up:"dashboard_up__8wlxm",down:"dashboard_down__4WZHJ",actions:"dashboard_actions__HLrdO",orders:"dashboard_orders__c0t2V",noData:"dashboard_noData__XUSC0",icon:"dashboard_icon__z8dD5",positions:"dashboard_positions__KpHKB",CompanyInfo:"dashboard_CompanyInfo__ort__",Collapsible:"dashboard_Collapsible__txrJZ"}},23220:function(e){e.exports={cashAvailable:"popup_cashAvailable__BFEch",leglist:"popup_leglist__t_QZY",name:"popup_name__ubRfy",legPrice:"popup_legPrice__jq0lv",Totalprice:"popup_Totalprice__30Dx6",gainloss:"popup_gainloss__GdXAf"}}},function(e){e.O(0,[843,708,407,394,345,72,895,940,203,836,829,358,217,287,40,667,488,744],function(){return e(e.s=85326)}),_N_E=e.O()}]);